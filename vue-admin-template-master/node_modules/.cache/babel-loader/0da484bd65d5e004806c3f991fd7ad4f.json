{"remainingRequest":"E:\\wuhanligong-java\\music\\vue-admin-template-master\\node_modules\\babel-loader\\lib\\index.js!E:\\wuhanligong-java\\music\\vue-admin-template-master\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\wuhanligong-java\\music\\vue-admin-template-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\wuhanligong-java\\music\\vue-admin-template-master\\src\\views\\warehouse\\Warehouse.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\wuhanligong-java\\music\\vue-admin-template-master\\src\\views\\warehouse\\Warehouse.vue","mtime":1652625436627},{"path":"E:\\wuhanligong-java\\music\\vue-admin-template-master\\babel.config.js","mtime":1637248914000},{"path":"E:\\wuhanligong-java\\music\\vue-admin-template-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\wuhanligong-java\\music\\vue-admin-template-master\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\wuhanligong-java\\music\\vue-admin-template-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\wuhanligong-java\\music\\vue-admin-template-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRTovd3VoYW5saWdvbmctamF2YS9tdXNpYy92dWUtYWRtaW4tdGVtcGxhdGUtbWFzdGVyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdXYXJlaG91c2UnLAogIHdhdGNoOiB7CiAgICAkcm91dGU6IHsKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcigpIHsKICAgICAgICB0aGlzLkdldEFsbEJ5UGFnZXMoKTsKICAgICAgfSwKICAgICAgZGVlcDogdHJ1ZQogICAgfQogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoe30sIG1hcEdldHRlcnMoWyduYW1lJ10pKSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZmlsZURhdGE6IFtdLAogICAgICB0b3RhbDogMCwKICAgICAgcGFnZU51bTogMSwKICAgICAgcGFnZVNpemU6IDIsCiAgICAgIHVzZXJpZDogMCwKICAgICAgdGltZTogJycsCiAgICAgIGZpbGVuYW1lOiAnJwogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIFBsYXk6IGZ1bmN0aW9uIFBsYXkoZmlsZSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy5yZXF1ZXN0LmdldCgiaHR0cDovL2xvY2FsaG9zdDo5MDkwL2dldEZpbGVpbmZvQnlpZCIsIHsKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIGlkOiBmaWxlCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgbmFtZTogJ1NjZW5lJwogICAgICAgIH0pOwoKICAgICAgICBfdGhpcy4kYnVzLiRlbWl0KCdwbGF5ZmlsZScsIHJlcyk7IC8vY29uc29sZS5sb2cocmVzKTsKCiAgICAgIH0pOwogICAgfSwKICAgIEVkaXQ6IGZ1bmN0aW9uIEVkaXQoaWQsIGZpbGUpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLnJlcXVlc3QuZ2V0KCJodHRwOi8vbG9jYWxob3N0OjkwOTAvZ2V0RmlsZWluZm9CeWlkIiwgewogICAgICAgIHBhcmFtczogewogICAgICAgICAgaWQ6IGZpbGUKICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzMi4kcm91dGVyLnB1c2goewogICAgICAgICAgbmFtZTogJ0VkaXRvcicKICAgICAgICB9KTsgLy/pobXpnaLot7PovawKCgogICAgICAgIF90aGlzMi4kYnVzLiRlbWl0KCdlaWR0ZmlsZScsIHJlcywgaWQpOwogICAgICB9KTsKICAgIH0sCiAgICBBZGRuZXc6IGZ1bmN0aW9uIEFkZG5ldygpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIG5hbWU6ICdFZGl0b3InCiAgICAgIH0pOwogICAgICB0aGlzLiRidXMuJGVtaXQoJ2FkZGZpbGUnKTsKICAgIH0sCiAgICBEZWxldGU6IGZ1bmN0aW9uIERlbGV0ZShpZCwgZmlsZSwgZmlsZWltZykgewogICAgICAvKuWmguaenOato+WcqOa8lOekuuWSjOe8lui+keaPkOekuuS4jeiDveWIoOmZpAogICAgICAqICovCiAgICAgIHRoaXMucmVxdWVzdC5nZXQoImh0dHA6Ly9sb2NhbGhvc3Q6OTA5MC9kZWxldGVieWlkIiwgewogICAgICAgIHBhcmFtczogewogICAgICAgICAgaWQ6IGZpbGUKICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGNvbnNvbGUubG9nKCLliKDpmaTlm77niYciICsgcmVzKTsKICAgICAgfSk7CiAgICAgIHRoaXMucmVxdWVzdC5nZXQoImh0dHA6Ly9sb2NhbGhvc3Q6OTA5MC9kZWxldGVieWlkIiwgewogICAgICAgIHBhcmFtczogewogICAgICAgICAgaWQ6IGZpbGVpbWcKICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGNvbnNvbGUubG9nKCLliKDpmaTlnLrmma8iICsgcmVzKTsKICAgICAgfSk7CiAgICAgIHRoaXMucmVxdWVzdC5kZWxldGUoImh0dHA6Ly9sb2NhbGhvc3Q6OTA5MC9zY2VuZWZpbGUvIiArIGlkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBjb25zb2xlLmxvZygi5Yig6Zmk5paH5Lu2IiArIHJlcyk7CiAgICAgIH0pOwogICAgICB0aGlzLnBhZ2VOdW0gPSAxOyAvL+avj+asoeWIoOmZpOWQjuaKiumhtemdouaVsOmHjee9rgoKICAgICAgdGhpcy5HZXRBbGxCeVBhZ2VzKCk7CiAgICB9LAogICAgUmVzZXQ6IGZ1bmN0aW9uIFJlc2V0KCkgewogICAgICB0aGlzLmZpbGVuYW1lID0gJyc7CiAgICAgIHRoaXMucGFnZU51bSA9IDE7IC8v5YiG6aG16YeN572uCgogICAgICB0aGlzLkdldEFsbEJ5UGFnZXMoKTsKICAgIH0sCiAgICBHZXRBbGxCeVBhZ2VzOiBmdW5jdGlvbiBHZXRBbGxCeVBhZ2VzKCkgewogICAgICAvL+ivt+axguWIhumhteafpeivouaVsOaNrgogICAgICB2YXIgdGhhdCA9IHRoaXM7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMubmFtZSk7CiAgICAgIHRoaXMucmVxdWVzdC5nZXQoImh0dHA6Ly9sb2NhbGhvc3Q6OTA5MC91c2VyL2dldGlkIiwgewogICAgICAgIHBhcmFtczogewogICAgICAgICAgbmFtZTogdGhpcy5uYW1lCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICB0aGF0LnVzZXJpZCA9IHJlcy5pZDsKICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgIHRoYXQucmVxdWVzdC5nZXQoImh0dHA6Ly9sb2NhbGhvc3Q6OTA5MC9zY2VuZWZpbGUvcGFnZSIsIHsKICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICBwYWdlTnVtOiB0aGF0LnBhZ2VOdW0sCiAgICAgICAgICAgIHBhZ2VTaXplOiB0aGF0LnBhZ2VTaXplLAogICAgICAgICAgICB1c2VyaWQ6IHRoYXQudXNlcmlkLAogICAgICAgICAgICBmaWxlbmFtZTogdGhhdC5maWxlbmFtZQogICAgICAgICAgfQogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgdGhhdC5maWxlRGF0YSA9IHJlcy5yZWNvcmRzOwogICAgICAgICAgdGhhdC50b3RhbCA9IHJlcy50b3RhbDsKICAgICAgICAgIGNvbnNvbGUubG9nKHJlcyk7IC8vIHRoaXMuR2V0SW1nKCk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIGhhbmRsZVNpemVDaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZVNpemVDaGFuZ2UocGFnZVNpemUpIHsKICAgICAgdGhpcy5wYWdlU2l6ZSA9IHBhZ2VTaXplOwogICAgICB0aGlzLkdldEFsbEJ5UGFnZXMoKTsKICAgIH0sCiAgICBoYW5kbGVDdXJyZW50Q2hhbmdlOiBmdW5jdGlvbiBoYW5kbGVDdXJyZW50Q2hhbmdlKHBhZ2VOdW0pIHsKICAgICAgdGhpcy5wYWdlTnVtID0gcGFnZU51bTsKICAgICAgdGhpcy5HZXRBbGxCeVBhZ2VzKCk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5HZXRBbGxCeVBhZ2VzKCk7CiAgfQp9Ow=="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmFA;AACA;AACAA,mBADA;AAEAC;AACAC;AACAC,aADA,qBACA;AACA;AACA,OAHA;AAIAC;AAJA;AADA,GAFA;AAUAC,8BACAC,YACA,MADA,EADA,CAVA;AAeAC,MAfA,kBAeA;AACA;AACAC,kBADA;AAEAC,cAFA;AAGAC,gBAHA;AAIAC,iBAJA;AAKAC,eALA;AAMAC,cANA;AAOAC;AAPA;AAUA,GA1BA;AA2BAC;AAEAC,QAFA,gBAEAC,IAFA,EAEA;AAAA;;AACA;AACAC;AACAC;AADA;AADA,SAIAC,IAJA,CAIA;AACA;AACApB;AADA;;AAIA,0CALA,CAMA;;AACA,OAXA;AAYA,KAfA;AAgBAqB,QAhBA,gBAgBAF,EAhBA,EAgBAF,IAhBA,EAgBA;AAAA;;AACA;AACAC;AACAC;AADA;AADA,SAIAC,IAJA,CAIA;AAEA;AACApB;AADA,WAFA,CAKA;;;AACA;AACA,OAXA;AAYA,KA7BA;AA8BAsB,UA9BA,oBA8BA;AACA;AACAtB;AADA;AAGA;AACA,KAnCA;AAoCAuB,UApCA,kBAoCAJ,EApCA,EAoCAF,IApCA,EAoCAO,OApCA,EAoCA;AAEA;AACA;AACA;AACAN;AACAC;AADA;AADA,SAIAC,IAJA,CAIA;AACAK;AACA,OANA;AAOA;AACAP;AACAC;AADA;AADA,SAIAC,IAJA,CAIA;AACAK;AACA,OANA;AAOA;AACAA;AACA,OAFA;AAGA,uBArBA,CAsBA;;AACA;AACA,KA5DA;AA6DAC,SA7DA,mBA6DA;AACA;AACA,uBAFA,CAGA;;AACA;AACA,KAlEA;AAmEAC,iBAnEA,2BAmEA;AACA;AACA;AACAF;AACA;AACAP;AACAlB;AADA;AADA,SAIAoB,IAJA,CAIA;AAEAQ;AACAH;AACAG;AACAV;AACAR,iCADA;AAEAC,mCAFA;AAGAC,+BAHA;AAIAE;AAJA;AADA,WAOAM,IAPA,CAOA;AACAQ;AACAA;AACAH,2BAHA,CAIA;AACA,SAZA;AAaA,OArBA;AAuBA,KA9FA;AA+FAI,oBA/FA,4BA+FAlB,QA/FA,EA+FA;AACA;AACA;AACA,KAlGA;AAmGAmB,uBAnGA,+BAmGApB,OAnGA,EAmGA;AACA;AACA;AACA;AAtGA,GA3BA;AAmIAqB,SAnIA,qBAmIA;AACA;AACA;AArIA","names":["name","watch","$route","handler","deep","computed","mapGetters","data","fileData","total","pageNum","pageSize","userid","time","filename","methods","Play","file","params","id","then","Edit","Addnew","Delete","fileimg","console","Reset","GetAllByPages","that","handleSizeChange","handleCurrentChange","mounted"],"sourceRoot":"src/views/warehouse","sources":["Warehouse.vue"],"sourcesContent":["<template>\n  <div class=\"about\">\n    <el-container>\n      <el-header style=\"text-align: center; height: 100px\">\n        <el-button @click=\"Addnew\" type=\"primary\" style=\"margin-top: 20px\" >\n          创您所想\n        </el-button>\n       <div style=\"margin-top: 10px\">\n         <span>开始创造您的音乐可视化</span>\n       </div>\n      </el-header>\n      <el-main>\n        <el-row>\n          <el-col\n            v-for=\"(item,index) in fileData\"\n            :key=\"item.id\"\n            :span=\"5\"\n            style=\"margin-bottom: 10px\"\n            :offset=\"1\"\n          >\n            <el-card style=\"height: 330px;width: 300px\" >\n              <div slot=\"header\" class=\"clearfix\">\n                <i class=\"el-icon-user\" /><span style=\"margin-left: 5px\">{{\n                  item.username\n                }}</span>\n                <div\n                  style=\"display: inline-block; float: right; cursor: pointer\"\n                  @click=\"Edit(item.id,item.file)\"\n                >\n                  <el-tooltip effect=\"dark\" content=\"编辑文件\" placement=\"top\">\n                    <i class=\"el-icon-edit-outline\" style=\"margin-left: 15px\" />\n                  </el-tooltip>\n                </div>\n              </div>\n              <div>\n                <i class=\"el-icon-document\" /><span style=\"margin-left: 5px\">文件名：{{ item.filename }}</span>\n<!--                <div class=\"role-left\">文件名：{{ item.filename }}</div>-->\n                <br><br>\n                <el-image\n                      style=\"width: 270px; height: 180px\"\n                      :src=\"'http://localhost:9090/img?id='+item.fileimg\"\n                      fit=\"content\"></el-image>\n              </div>\n              <div\n                style=\"display: inline-block; float: left; cursor: pointer\"\n                @click=\"Play(item.file)\"\n              >\n                <el-tooltip effect=\"dark\" content=\"场景展示\" placement=\"bottom\">\n                  <i class=\"el-icon-menu\" />\n                </el-tooltip>\n              </div>\n              <div\n                style=\"display: inline-block; float: right; cursor: pointer\"\n                @click=\"Delete(item.id,item.file,item.fileimg)\"\n              >\n                <el-tooltip effect=\"dark\" content=\"删除文件\" placement=\"bottom\">\n                  <i class=\"el-icon-delete\" style=\"margin-left: 15px\" />\n                </el-tooltip>\n              </div>\n            </el-card>\n          </el-col>\n        </el-row>\n      </el-main>\n      <el-footer>\n        <div class=\"block\">\n          <el-pagination\n            @size-change=\"handleSizeChange\"\n            @current-change=\"handleCurrentChange\"\n            :current-page=\"pageNum\"\n            :page-sizes=\"[2, 5, 10, 20]\"\n            :page-size=\"pageSize\"\n            layout=\"total, sizes, prev, pager, next, jumper\"\n            :total=\"total\">\n          </el-pagination>\n        </div>\n      </el-footer>\n    </el-container>\n\n\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex'\nexport default {\n    name: 'Warehouse',\n    watch:{\n      $route:{\n        handler(){\n            this.GetAllByPages();\n        },\n        deep:true\n      }\n    },\n  computed: {\n    ...mapGetters([\n      'name'\n    ])\n  },\n    data(){\n      return{\n        fileData:[],\n        total: 0,\n        pageNum:1,\n        pageSize: 2,\n        userid:0,\n        time:'',\n        filename:'',\n\n      }\n    },\n    methods:{\n\n      Play(file){\n        this.request.get(\"http://localhost:9090/getFileinfoByid\",{\n          params:{\n            id:file\n          }\n        }).then(res=>{\n          this.$router.push({\n            name:'Scene'\n          });\n\n          this.$bus.$emit('playfile',res);\n          //console.log(res);\n        })\n      },\n      Edit(id,file){\n        this.request.get(\"http://localhost:9090/getFileinfoByid\",{\n          params:{\n            id:file\n          }\n        }).then(res=>{\n\n          this.$router.push({\n            name:'Editor'\n          });\n          //页面跳转\n          this.$bus.$emit('eidtfile',res,id);\n        })\n      },\n      Addnew(){\n        this.$router.push({\n          name:'Editor'\n        });\n        this.$bus.$emit('addfile');\n      },\n      Delete(id,file,fileimg){\n\n        /*如果正在演示和编辑提示不能删除\n        * */\n        this.request.get(\"http://localhost:9090/deletebyid\",{\n          params:{\n            id:file\n          }\n        }).then(res=>{\n          console.log(\"删除图片\"+res);\n        });\n        this.request.get(\"http://localhost:9090/deletebyid\",{\n          params:{\n            id:fileimg\n          }\n        }).then(res=>{\n          console.log(\"删除场景\"+res);\n        });\n        this.request.delete(\"http://localhost:9090/scenefile/\"+id).then(res=>{\n          console.log(\"删除文件\"+res);\n        });\n        this.pageNum=1;\n        //每次删除后把页面数重置\n        this.GetAllByPages();\n      },\n      Reset(){\n        this.filename='';\n        this.pageNum=1;\n        //分页重置\n        this.GetAllByPages();\n      },\n        GetAllByPages(){\n          //请求分页查询数据\n          let that=this;\n          console.log(this.name)\n          this.request.get(\"http://localhost:9090/user/getid\", {\n            params:{\n              name:this.name\n            }\n          }).then(res=>{\n\n            that.userid=res.id;\n            console.log(res);\n            that.request.get(\"http://localhost:9090/scenefile/page\",{\n              params:{\n                pageNum:that.pageNum,\n                pageSize:that.pageSize,\n                userid:that.userid,\n                filename:that.filename\n              }\n            }).then(res=>{\n              that.fileData=res.records;\n              that.total=res.total;\n              console.log(res);\n              // this.GetImg();\n            })\n          });\n\n        },\n      handleSizeChange(pageSize){\n          this.pageSize=pageSize;\n          this.GetAllByPages();\n      },\n      handleCurrentChange(pageNum){\n          this.pageNum=pageNum;\n          this.GetAllByPages();\n      }\n    },\n    mounted() {\n        this.GetAllByPages();\n    }\n}\n</script>\n\n<style>\n\n</style>\n"]}]}