{"remainingRequest":"E:\\wuhanligong-java\\music\\vue-admin-template-master\\node_modules\\babel-loader\\lib\\index.js!E:\\wuhanligong-java\\music\\vue-admin-template-master\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\wuhanligong-java\\music\\vue-admin-template-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\wuhanligong-java\\music\\vue-admin-template-master\\src\\views\\scene\\Player\\Player.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\wuhanligong-java\\music\\vue-admin-template-master\\src\\views\\scene\\Player\\Player.vue","mtime":1652875338763},{"path":"E:\\wuhanligong-java\\music\\vue-admin-template-master\\babel.config.js","mtime":1637248914000},{"path":"E:\\wuhanligong-java\\music\\vue-admin-template-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\wuhanligong-java\\music\\vue-admin-template-master\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\wuhanligong-java\\music\\vue-admin-template-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\wuhanligong-java\\music\\vue-admin-template-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQXVkaW9QbGF5ZXInLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBtdXNpY0J1ZmZlcjogbnVsbCwKICAgICAgLy/nvJPlhrLmlbDmja4KICAgICAgaXNMb2FkaW5nOiBmYWxzZSwKICAgICAgLy/liKTmlq3mmK/lkKbliqDovb3pn7PkuZAKICAgICAgaXNQbGF5aW5nOiBmYWxzZSwKICAgICAgLy/mmK/lkKbmraPlnKjmkq3mlL7pn7PkuZAKICAgICAgZmlsZU5hbWU6ICcnLAogICAgICAvL+mfs+S5kOWQjQogICAgICBwbGF5ZWRUaW1lOiAwLAogICAgICAvL+aSreaUvuaXtumXtAogICAgICBhdWRpb0N0eDogbnVsbCwKICAgICAgLy/pn7PpopHkuIrkuIvmlocKICAgICAgYXVkaW9CdWZmZXJTb3VyY2VOb2RlOiBudWxsLAogICAgICAvL+mfs+mikeiKgueCuQogICAgICBmaWxlUmVhZGVyOiBudWxsLAogICAgICAvL+aWh+S7tuivu+WPlgogICAgICBhbmFseXNlcjogbnVsbCwKICAgICAgLy/liIbmnpDlmagKICAgICAgZmlsZUR1cmF0aW9uOiAwLAogICAgICAvL+mfs+S5kOaXtumVvwogICAgICB0aW1lcjogMCAvL3BsYXllZFBlcmNlbnRhZ2U6IDAKICAgICAgLy9wbGF5ZWRQZXJjZW50YWdlOjAKICAgICAgLy9wbGF5ZWRQZXJjZW50YWdlOjAKCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHBsYXllZFBlcmNlbnRhZ2U6IHsKICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgICAgaWYgKHRoaXMuZmlsZUR1cmF0aW9uID4gMCkgewogICAgICAgICAgcmV0dXJuIHRoaXMucGxheWVkVGltZSAqIDEwMCAvIHRoaXMuZmlsZUR1cmF0aW9uOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gMDsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHNldDogZnVuY3Rpb24gc2V0KHBlcmNlbnRhZ2UpIHsKICAgICAgICB0aGlzLnBsYXllZFRpbWUgPSBwZXJjZW50YWdlICogdGhpcy5maWxlRHVyYXRpb24gLyAxMDA7CiAgICAgIH0KICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICBpc1BsYXlpbmc6IHsKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcigpIHsKICAgICAgICB0aGlzLiRidXMuJGVtaXQoJ1BsYXlTdGF0ZScsIHRoaXMuaXNQbGF5aW5nKTsKICAgICAgfSwKICAgICAgZGVlcDogdHJ1ZSwKICAgICAgaW1tZWRpYXRlOiB0cnVlCiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5pbml0Q29udGV4dCgpOwogIH0sCiAgbWV0aG9kczogewogICAgY2hhbmdlcHJvY2VzczogZnVuY3Rpb24gY2hhbmdlcHJvY2VzcygpIHsKICAgICAgaWYgKCF0aGlzLmlzTG9hZGluZykgewogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIuacquWKoOi9veWqkuS9kyIpOwogICAgICAgIHRoaXMucGxheWVkVGltZSA9IDA7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKHRoaXMuaXNQbGF5aW5nKSB7CiAgICAgICAgICAvL+ato+WcqOaSreaUvuaXtuaUueWPmAogICAgICAgICAgdGhpcy5wbGF5X3BhdXNlKCk7CiAgICAgICAgICB0aGlzLnBsYXlfcGF1c2UoKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgLy/mmoLlgZzml7bmlLnlj5gKICAgICAgICAgIHRoaXMucGxheV9wYXVzZSgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGxvYWRmaWxlOiBmdW5jdGlvbiBsb2FkZmlsZSgpIHsKICAgICAgdmFyIHRoYXQgPSB0aGlzOwogICAgICB2YXIgZmlsZTsKICAgICAgdmFyIGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTsKICAgICAgaW5wdXQudHlwZSA9ICJmaWxlIjsKICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcigiY2hhbmdlIiwgZnVuY3Rpb24gKCkgewogICAgICAgIGZpbGUgPSBpbnB1dC5maWxlc1swXTsKICAgICAgICB0aGF0LmZpbGVOYW1lID0gZmlsZS5uYW1lOwogICAgICAgIHRoYXQuZmlsZXJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7CiAgICAgICAgdGhhdC5maWxlcmVhZGVyLnJlYWRBc0FycmF5QnVmZmVyKGZpbGUpOwoKICAgICAgICB0aGF0LmZpbGVyZWFkZXIub25sb2FkID0gZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgICAgICB0aGF0LmF1ZGlvQ3R4LmRlY29kZUF1ZGlvRGF0YShldmVudC50YXJnZXQucmVzdWx0LCBmdW5jdGlvbiAoYnVmZmVyKSB7CiAgICAgICAgICAgIHRoYXQubXVzaWNCdWZmZXIgPSBidWZmZXI7IC8v5YWI5a2Y6Z+z6aKR5pWw5o2uCgogICAgICAgICAgICB0aGF0LmlzTG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgIHRoYXQuZmlsZUR1cmF0aW9uID0gYnVmZmVyLmR1cmF0aW9uOwogICAgICAgICAgICB0aGF0LkFuYWx5c2VyRGF0YSgpOwogICAgICAgICAgfSk7IC8v6Z+z6aKR5pWw5o2uCiAgICAgICAgfTsKICAgICAgfSk7CiAgICAgIGlucHV0LmNsaWNrKCk7CiAgICB9LAogICAgcGxheV9wYXVzZTogZnVuY3Rpb24gcGxheV9wYXVzZSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBwbGF5ZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuUGxheS1QYXVzZScpOyAvL2NvbnNvbGUubG9nKHBsYXllcik7CgogICAgICBpZiAoIXRoaXMuaXNMb2FkaW5nKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigi5pyq5Yqg6L295aqS5L2TIik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKCF0aGlzLmlzUGxheWluZykgewogICAgICAgICAgLy/lj6rmnInmr4/mrKHmkq3mlL7ml7bmiY3lu7rnq4vvvIzlm6DkuLpzdGFydOWPquiDveS4gOasoQogICAgICAgICAgdGhpcy5hdWRpb0J1ZmZlclNvdXJjZU5vZGUgPSB0aGlzLmF1ZGlvQ3R4LmNyZWF0ZUJ1ZmZlclNvdXJjZSgpOyAvL+S4gOW8gOWni+i/m+ihjOWIneWni+WMlgoKICAgICAgICAgIHRoaXMuYXVkaW9CdWZmZXJTb3VyY2VOb2RlLmJ1ZmZlciA9IHRoaXMubXVzaWNCdWZmZXI7IC8v5pKt5pS+5pe25omN5Y675Yqg6L295pWw5o2uCgogICAgICAgICAgdGhpcy5hdWRpb0J1ZmZlclNvdXJjZU5vZGUuY29ubmVjdCh0aGlzLmF1ZGlvQ3R4LmRlc3RpbmF0aW9uKTsgLy/ov57mjqUKCiAgICAgICAgICB0aGlzLmF1ZGlvQnVmZmVyU291cmNlTm9kZS5jb25uZWN0KHRoaXMuYW5hbHlzZXIpOyAvL+i/nuaOpeWIhuaekOWZqAoKICAgICAgICAgIHRoaXMuYXVkaW9CdWZmZXJTb3VyY2VOb2RlLnN0YXJ0KDAsIHRoaXMucGxheWVkVGltZSk7IC8v5pKt5pS+CgogICAgICAgICAgcGxheWVyLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpOwogICAgICAgICAgdGhpcy5pc1BsYXlpbmcgPSB0cnVlOwogICAgICAgICAgdGhpcy50aW1lciA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgaWYgKF90aGlzLnBsYXllZFRpbWUgPCBfdGhpcy5maWxlRHVyYXRpb24pIHsKICAgICAgICAgICAgICBfdGhpcy5wbGF5ZWRUaW1lICs9IDAuMTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBfdGhpcy5wbGF5ZWRUaW1lID0gMDsKCiAgICAgICAgICAgICAgX3RoaXMuYXVkaW9CdWZmZXJTb3VyY2VOb2RlLnN0b3AoKTsKCiAgICAgICAgICAgICAgX3RoaXMuYXVkaW9CdWZmZXJTb3VyY2VOb2RlLmRpc2Nvbm5lY3QoKTsKCiAgICAgICAgICAgICAgX3RoaXMuaXNQbGF5aW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgcGxheWVyLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpOwogICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoX3RoaXMudGltZXIpOwogICAgICAgICAgICB9CiAgICAgICAgICB9LCAxMDApOyAvL+WunuaXtuabtOaWsOi/m+W6puadoe+8jOavjzEwMOavq+enkuWNszAuMeenkuabtOaWsOS4gOasoe+8jAogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLmF1ZGlvQnVmZmVyU291cmNlTm9kZS5zdG9wKCk7CiAgICAgICAgICB0aGlzLmF1ZGlvQnVmZmVyU291cmNlTm9kZS5kaXNjb25uZWN0KCk7CiAgICAgICAgICB0aGlzLmlzUGxheWluZyA9IGZhbHNlOwogICAgICAgICAgcGxheWVyLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpOwogICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVyKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBpbml0Q29udGV4dDogZnVuY3Rpb24gaW5pdENvbnRleHQoKSB7CiAgICAgIHZhciBBdWRpb0NvbnRleHQgPSB3aW5kb3cuQXVkaW9Db250ZXh0IHx8IHdpbmRvdy53ZWJraXRBdWRpb0NvbnRleHQ7CiAgICAgIHRoaXMuYXVkaW9DdHggPSBuZXcgQXVkaW9Db250ZXh0KCk7IC8v5Yib5bu65LiK5LiL5paHCiAgICAgIC8v5Yib5bu657yT5Yay6IqC54K5CgogICAgICB0aGlzLmFuYWx5c2VyID0gdGhpcy5hdWRpb0N0eC5jcmVhdGVBbmFseXNlcigpOwogICAgfSwKICAgIC8vIHBsYXkoKXsKICAgIC8vICAgICAgIGlmKCF0aGlzLmlzTG9hZGluZyl7CiAgICAvLyAgICAgICAgICAgYWxlcnQoJ+acquWKoOi9veWqkuS9kycpOwogICAgLy8gICAgICAgfWVsc2V7CiAgICAvLyAgICAgICAgICAgaWYoIXRoaXMuaXNQbGF5aW5nKXsKICAgIC8vICAgICAgICAgICAgICAvL+WPquacieavj+asoeaSreaUvuaXtuaJjeW7uueri++8jOWboOS4unN0YXJ05Y+q6IO95LiA5qyhCiAgICAvLyAgICAgICAgICAgICB0aGlzLmF1ZGlvQnVmZmVyU291cmNlTm9kZT10aGlzLmF1ZGlvQ3R4LmNyZWF0ZUJ1ZmZlclNvdXJjZSgpOwogICAgLy8gICAgICAgICAgICAgICAvL+S4gOW8gOWni+i/m+ihjOWIneWni+WMlgogICAgLy8gICAgICAgICAgIHRoaXMuYXVkaW9CdWZmZXJTb3VyY2VOb2RlLmJ1ZmZlcj10aGlzLm11c2ljQnVmZmVyOwogICAgLy8gICAgICAgICAgIC8v5pKt5pS+5pe25omN5Y675Yqg6L295pWw5o2uCiAgICAvLyAgICAgICAgICAgdGhpcy5hdWRpb0J1ZmZlclNvdXJjZU5vZGUuY29ubmVjdCh0aGlzLmF1ZGlvQ3R4LmRlc3RpbmF0aW9uKTsKICAgIC8vICAgICAgICAgICAvL+i/nuaOpQogICAgLy8gICAgICAgICAgIHRoaXMuYXVkaW9CdWZmZXJTb3VyY2VOb2RlLmNvbm5lY3QodGhpcy5hbmFseXNlcik7CiAgICAvLyAgICAgICAgICAgLy/ov57mjqXliIbmnpDlmagKICAgIC8vICAgICAgICAgICB0aGlzLmF1ZGlvQnVmZmVyU291cmNlTm9kZS5zdGFydCh0aGlzLnBsYXllZFRpbWUsdGhpcy5wbGF5ZWRUaW1lKTsKICAgIC8vICAgICAgICAgICAvL+aSreaUvgogICAgLy8KICAgIC8vCiAgICAvLyAgICAgICAgICAgdGhpcy5pc1BsYXlpbmc9dHJ1ZTsKICAgIC8vICAgICAgICAgICB0aGlzLnRpbWVyPXNldEludGVydmFsKCgpPT57CiAgICAvLyAgICAgICAgICAgICAgIGlmKHRoaXMucGxheWVkVGltZTx0aGlzLmZpbGVEdXJhdGlvbil7CiAgICAvLyAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXllZFRpbWUrPTAuMTsKICAgIC8vICAgICAgICAgICAgICAgfQogICAgLy8gICAgICAgICAgICAgICBlbHNlewogICAgLy8gICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5ZWRUaW1lPTA7CiAgICAvLyAgICAgICAgICAgICAgICAgICAvL3RoaXMuaXNQbGF5aW5nPWZhbHNlOwogICAgLy8gICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVyKTsKICAgIC8vCiAgICAvLyAgICAgICAgICAgICAgIH0KICAgIC8vICAgICAgICAgICB9LDEwMCk7CiAgICAvLyAgICAgICAgICAgLy/lrp7ml7bmm7TmlrDov5vluqbmnaHvvIzmr48xMDDmr6vnp5LljbMwLjHnp5Lmm7TmlrDkuIDmrKHvvIwKICAgIC8vICAgICAgICAgICB9CiAgICAvLwogICAgLy8gICAgICAgfQogICAgLy8KICAgIC8vCiAgICAvLyAgIH0sCiAgICAvLyAgIHBhdXNlKCl7CiAgICAvLyAgICAgICBpZighdGhpcy5pc0xvYWRpbmcpewogICAgLy8gICAgICAgICAgIGFsZXJ0KCfmnKrliqDovb3lqpLkvZMnKTsKICAgIC8vICAgICAgIH0KICAgIC8vICAgICAgIGVsc2V7CiAgICAvLyAgICAgICAgICAgaWYodGhpcy5pc1BsYXlpbmcpewogICAgLy8gICAgICAgICAgIHRoaXMuYXVkaW9CdWZmZXJTb3VyY2VOb2RlLnN0b3AoKTsKICAgIC8vICAgICAgICAgICB0aGlzLmF1ZGlvQnVmZmVyU291cmNlTm9kZS5kaXNjb25uZWN0KCk7CiAgICAvLyAgICAgICAgICAgIHRoaXMuaXNQbGF5aW5nPWZhbHNlOwogICAgLy8gICAgICAgICAgICAgdGhpcy5wbGF5ZXIuY2xhc3NMaXN0LnJlbW92ZSgnIGFjdGl2ZScpOwogICAgLy8gICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy50aW1lcik7CiAgICAvLyAgICAgICAgICAgfQogICAgLy8KICAgIC8vCiAgICAvLyAgICAgICB9CiAgICAvLwogICAgLy8gICB9LAogICAgLy8gICBMb2FkZXJGaWxlKGUpewogICAgLy8gICAgICAgbGV0IGZpbGU9ZS50YXJnZXQuZmlsZXNbMF07CiAgICAvLyAgICAgICB0aGlzLmZpbGVOYW1lPWZpbGUubmFtZTsKICAgIC8vICAgICAgIHRoaXMuZmlsZXJlYWRlcj1uZXcgRmlsZVJlYWRlcigpOwogICAgLy8gICAgICAgdGhpcy5maWxlcmVhZGVyLnJlYWRBc0FycmF5QnVmZmVyKGZpbGUpOwogICAgLy8gICAgICAgdGhpcy5maWxlcmVhZGVyLm9ubG9hZD0oZXZlbnQpPT57CiAgICAvLyAgICAgICB0aGlzLmF1ZGlvQ3R4LmRlY29kZUF1ZGlvRGF0YShldmVudC50YXJnZXQucmVzdWx0LChidWZmZXIpPT57CiAgICAvLyAgICAgICAgICAgdGhpcy5tdXNpY0J1ZmZlcj1idWZmZXI7CiAgICAvLyAgICAgICAgICAgLy/lhYjlrZjpn7PpopHmlbDmja4KICAgIC8vICAgICAgICAgICB0aGlzLmlzTG9hZGluZz10cnVlOwogICAgLy8gICAgICAgICAgIHRoaXMuZmlsZUR1cmF0aW9uPWJ1ZmZlci5kdXJhdGlvbjsKICAgIC8vCiAgICAvLyAgICAgICAgICAgdGhpcy5BbmFseXNlckRhdGEoKTsKICAgIC8vICAgICAgIH0pCiAgICAvLyAgICAgICAvL+mfs+mikeaVsOaNrgogICAgLy8gICAgICAgfQogICAgLy8gICB9LAogICAgQW5hbHlzZXJEYXRhOiBmdW5jdGlvbiBBbmFseXNlckRhdGEoKSB7CiAgICAgIHRoaXMuYW5hbHlzZXIuZmZ0U2l6ZSA9IDUxMjsgLy81MTLmmK/mnIDlkIjpgILnmoTlgLwKICAgICAgLy8gbGV0IGJ1ZmZlckxlbmd0aD1hbmFseXNlci5mcmVxdWVuY3lCaW5Db3VudDsKICAgICAgLy8gbGV0IGRhdGFBcnJheT1uZXcgVWludDhBcnJheShidWZmZXJMZW5ndGgpOwogICAgICAvLyB0aGlzLmFuYWx5c2VyLmdldEJ5dGVGcmVxdWVuY3lEYXRhKGRhdGFBcnJheSk7CgogICAgICB0aGlzLiRidXMuJGVtaXQoJ0JpbmRpbmdBbmFseXNlcicsIHRoaXMuYW5hbHlzZXIpOwogICAgfQogIH0KfTs="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2CA;AACAA,qBADA;AAEAC,MAFA,kBAEA;AACA;AACAC,uBADA;AAEA;AACAC,sBAHA;AAIA;AACAC,sBALA;AAMA;AACAC,kBAPA;AAQA;AACAC,mBATA;AAUA;AACAC,oBAXA;AAYA;AACAC,iCAbA;AAcA;AACAC,sBAfA;AAgBA;AACAC,oBAjBA;AAkBA;AACAC,qBAnBA;AAoBA;AACAC,cArBA,CAuBA;AACA;AACA;;AAzBA;AA4BA,GA/BA;AAgCAC;AACAC;AACAC,SADA,iBACA;AACA;AACA;AAEA,SAHA,MAGA;AACA;AACA;AACA,OARA;AASAC,SATA,eASAC,UATA,EASA;AAEA;AAEA;AAbA;AADA,GAhCA;AAiDAC;AACAd;AACAe,aADA,qBACA;AACA;AACA,OAHA;AAIAC,gBAJA;AAKAC;AALA;AADA,GAjDA;AA0DAC,SA1DA,qBA0DA;AACA;AAGA,GA9DA;AA+DAC;AACAC,iBADA,2BACA;AACA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA;AACA;AACA,SAJA,MAKA;AACA;AACA;AACA;AACA;AACA,KAhBA;AAkBAC,YAlBA,sBAkBA;AACA;AACA;AACA;AACAC;AACAA;AACAC;AACAC;AACAA;AACAA;;AACAA;AACAA;AACAA,sCADA,CAEA;;AACAA;AACAA;AAEAA;AACA,WAPA,EADA,CASA;AACA,SAVA;AAWA,OAhBA;AAiBAF;AACA,KAzCA;AA0CAG,cA1CA,wBA0CA;AAAA;;AACA,yDADA,CAEA;;AACA;AACA;AAEA,OAHA,MAGA;AACA;AACA;AACA,0EAFA,CAGA;;AACA,+DAJA,CAKA;;AACA,wEANA,CAOA;;AACA,4DARA,CASA;;AACA,+DAVA,CAWA;;AACAC;AAEA;AACA;AACA;AACA;AACA,aAFA,MAGA;AACA;;AACA;;AACA;;AACA;AACAA;AACAC;AAEA;AACA,WAbA,EAaA,GAbA,EAfA,CA6BA;AACA,SA9BA,MA+BA;AACA;AACA;AACA;AACAD;AACAC;AACA;AAEA;AAEA,KA1FA;AA2FAC,eA3FA,yBA2FA;AACA;AACA,yCAFA,CAGA;AAEA;;AACA;AACA,KAlGA;AAmGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAC,gBA1KA,0BA0KA;AACA,kCADA,CAEA;AACA;AACA;AACA;;AACA;AACA;AAjLA;AA/DA","names":["name","data","musicBuffer","isLoading","isPlaying","fileName","playedTime","audioCtx","audioBufferSourceNode","fileReader","analyser","fileDuration","timer","computed","playedPercentage","get","set","percentage","watch","handler","deep","immediate","mounted","methods","changeprocess","loadfile","input","file","that","play_pause","player","clearInterval","initContext","AnalyserData"],"sourceRoot":"src/views/scene/Player","sources":["Player.vue"],"sourcesContent":["<template>\n  <div class=\"AudioViewPlayer\" >\n      <div class=\"Control\">\n\n        <div class=\"Buttons\">\n          <audio></audio>\n          <span class=\"Play-Pause\" @click=\"play_pause\">\n            <svg-icon v-if=\"isPlaying\" icon-class=\"pause\" className=\"player\"></svg-icon>\n            <svg-icon v-else icon-class=\"play\" className=\"player\"></svg-icon>\n          </span>\n\n\n          <span class=\"File\" @click=\"loadfile\">\n            <svg-icon  icon-class=\"file\"  className=\"file\"></svg-icon>\n          </span>\n          <div class=\"Text\" style=\"width: 85%;text-align: center\">\n            <i v-if=\"fileName==''\">暂无文件加载</i>\n            <i v-else>{{ fileName }}</i>\n            <el-slider  v-model=\"playedPercentage\" :show-tooltip=\"false\" style=\"width:100%\" @change=\"changeprocess\"></el-slider>\n          </div>\n\n\n\n        </div>\n\n\n\n\n\n        <!--          <button @click=\"play\" class=\"Play\">播放</button>-->\n        <!--          <button @click=\"pause\" class=\"Pause\">暂停</button>-->\n        <!--          <input id=\"MP3File\" @change=\"LoaderFile\" type=\"file\" class=\"Select\"/>-->\n        <!--&lt;!&ndash;          <el-progress :percentage=\"playedPercentage\" :show-text=false></el-progress>&ndash;&gt;-->\n        <!--          <el-slider v-model=\"playedPercentage\" :show-tooltip=\"false\"></el-slider>-->\n      </div>\n\n\n\n  </div>\n</template>\n\n<script>\n\nexport default {\n    name:'AudioPlayer',\n    data() {\n        return {\n            musicBuffer:null,\n            //缓冲数据\n            isLoading:false,\n            //判断是否加载音乐\n            isPlaying:false,\n            //是否正在播放音乐\n            fileName:'',\n            //音乐名\n            playedTime:0,\n            //播放时间\n            audioCtx:null,\n            //音频上下文\n            audioBufferSourceNode:null,\n            //音频节点\n            fileReader:null,\n            //文件读取\n            analyser:null,\n            //分析器\n            fileDuration:0,\n            //音乐时长\n            timer:0,\n\n          //playedPercentage: 0\n            //playedPercentage:0\n          //playedPercentage:0\n\n        }\n    },\n    computed:{\n        playedPercentage:{\n            get(){\n                if(this.fileDuration>0){\n                    return this.playedTime*100/this.fileDuration;\n\n                }else{\n                    return 0;\n                }\n            },\n            set(percentage){\n\n                this.playedTime=percentage*this.fileDuration/100;\n\n            }\n        }\n    },\n   watch:{\n        isPlaying:{\n            handler(){\n                this.$bus.$emit('PlayState',this.isPlaying);\n            },\n            deep:true,\n            immediate:true\n        }\n    },\n    mounted() {\n        this.initContext();\n\n\n    },\n    methods: {\n      changeprocess(){\n        if(!this.isLoading){\n          this.$message.error(\"未加载媒体\");\n          this.playedTime=0;\n        }else{\n          if(this.isPlaying){\n            //正在播放时改变\n            this.play_pause();\n            this.play_pause();\n          }\n          else{\n            //暂停时改变\n            this.play_pause();\n          }\n        }\n      },\n\n      loadfile(){\n        let that=this;\n        let file;\n        let input=document.createElement('input');\n        input.type=\"file\";\n        input.addEventListener(\"change\",function(){\n             file=input.files[0];\n          that.fileName=file.name;\n          that.filereader=new FileReader();\n          that.filereader.readAsArrayBuffer(file);\n          that.filereader.onload=(event)=>{\n            that.audioCtx.decodeAudioData(event.target.result,(buffer)=>{\n              that.musicBuffer=buffer;\n              //先存音频数据\n              that.isLoading=true;\n              that.fileDuration=buffer.duration;\n\n              that.AnalyserData();\n            })\n            //音频数据\n          }\n        });\n        input.click();\n      },\n      play_pause(){\n        const player=document.querySelector('.Play-Pause');\n        //console.log(player);\n        if(!this.isLoading){\n          this.$message.error(\"未加载媒体\");\n\n        }else{\n          if(!this.isPlaying){\n            //只有每次播放时才建立，因为start只能一次\n            this.audioBufferSourceNode=this.audioCtx.createBufferSource();\n            //一开始进行初始化\n            this.audioBufferSourceNode.buffer=this.musicBuffer;\n            //播放时才去加载数据\n            this.audioBufferSourceNode.connect(this.audioCtx.destination);\n            //连接\n            this.audioBufferSourceNode.connect(this.analyser);\n            //连接分析器\n            this.audioBufferSourceNode.start(0,this.playedTime);\n            //播放\n            player.classList.add('active');\n\n            this.isPlaying=true;\n            this.timer=setInterval(()=>{\n              if(this.playedTime<this.fileDuration){\n                this.playedTime+=0.1;\n              }\n              else{\n                this.playedTime=0;\n                this.audioBufferSourceNode.stop();\n                this.audioBufferSourceNode.disconnect();\n                this.isPlaying=false;\n                player.classList.remove('active');\n                clearInterval(this.timer);\n\n              }\n            },100);\n            //实时更新进度条，每100毫秒即0.1秒更新一次，\n          }\n          else{\n            this.audioBufferSourceNode.stop();\n            this.audioBufferSourceNode.disconnect();\n            this.isPlaying=false;\n            player.classList.remove('active');\n            clearInterval(this.timer);\n          }\n\n        }\n\n      },\n        initContext(){\n            const AudioContext = window.AudioContext || window.webkitAudioContext;\n            this.audioCtx=new AudioContext();\n            //创建上下文\n\n            //创建缓冲节点\n           this.analyser=this.audioCtx.createAnalyser();\n        },\n      // play(){\n      //       if(!this.isLoading){\n      //           alert('未加载媒体');\n      //       }else{\n      //           if(!this.isPlaying){\n      //              //只有每次播放时才建立，因为start只能一次\n      //             this.audioBufferSourceNode=this.audioCtx.createBufferSource();\n      //               //一开始进行初始化\n      //           this.audioBufferSourceNode.buffer=this.musicBuffer;\n      //           //播放时才去加载数据\n      //           this.audioBufferSourceNode.connect(this.audioCtx.destination);\n      //           //连接\n      //           this.audioBufferSourceNode.connect(this.analyser);\n      //           //连接分析器\n      //           this.audioBufferSourceNode.start(this.playedTime,this.playedTime);\n      //           //播放\n      //\n      //\n      //           this.isPlaying=true;\n      //           this.timer=setInterval(()=>{\n      //               if(this.playedTime<this.fileDuration){\n      //                   this.playedTime+=0.1;\n      //               }\n      //               else{\n      //                   this.playedTime=0;\n      //                   //this.isPlaying=false;\n      //                   clearInterval(this.timer);\n      //\n      //               }\n      //           },100);\n      //           //实时更新进度条，每100毫秒即0.1秒更新一次，\n      //           }\n      //\n      //       }\n      //\n      //\n      //   },\n      //   pause(){\n      //       if(!this.isLoading){\n      //           alert('未加载媒体');\n      //       }\n      //       else{\n      //           if(this.isPlaying){\n      //           this.audioBufferSourceNode.stop();\n      //           this.audioBufferSourceNode.disconnect();\n      //            this.isPlaying=false;\n      //             this.player.classList.remove(' active');\n      //           clearInterval(this.timer);\n      //           }\n      //\n      //\n      //       }\n      //\n      //   },\n      //   LoaderFile(e){\n      //       let file=e.target.files[0];\n      //       this.fileName=file.name;\n      //       this.filereader=new FileReader();\n      //       this.filereader.readAsArrayBuffer(file);\n      //       this.filereader.onload=(event)=>{\n      //       this.audioCtx.decodeAudioData(event.target.result,(buffer)=>{\n      //           this.musicBuffer=buffer;\n      //           //先存音频数据\n      //           this.isLoading=true;\n      //           this.fileDuration=buffer.duration;\n      //\n      //           this.AnalyserData();\n      //       })\n      //       //音频数据\n      //       }\n      //   },\n        AnalyserData(){\n            this.analyser.fftSize=512;\n            //512是最合适的值\n            // let bufferLength=analyser.frequencyBinCount;\n            // let dataArray=new Uint8Array(bufferLength);\n            // this.analyser.getByteFrequencyData(dataArray);\n            this.$bus.$emit('BindingAnalyser',this.analyser);\n        }\n\n    },\n}\n</script>\n\n<style lang='scss' >\n.Control{\n\n  position: relative;\n  width: 100%;\n  height: 85px;\n  background: #fbfbfb;\n  border: 2px solid #fff;\n  padding: 20px 30px;\n  box-shadow: -10px -10px 15px #fff,\n              10px 10px 15px rgba(0, 0, 0, 0.1),\n              inset -5px -5px 15px #fff,\n              inset 5px 5px 15px rgba(0,0,0,0.1);\n  .Buttons{\n    position: relative;\n    display: flex;\n    justify-content: space-around;\n    align-items: center;\n    width:100%;\n    .Play-Pause{\n      .player{\n        font-size: 3em;\n      }\n    }\n    .File{\n      .file{\n        font-size: 1.5em;\n      }\n    }\n\n  }\n  .Buttons span{\n    position: relative;\n    width: 50px;\n    height: 50px;\n    border-radius: 50%;\n    background: #ffffff;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    //color: #777777;\n    cursor: pointer;\n    box-shadow: inset 0 -5px 5px rgba(0,0,0,0.1),\n                0 5px 10px rgba(0,0,0,0.1),\n                0 10px 15px rgba(0,0,0,0.1);\n  }\n  .Buttons span.active{\n    box-shadow: inset 0 -7px 5px rgba(0,0,0,0.025),\n                inset 0 5px 10px rgba(0,0,0,0.15);\n  }\n  .Buttons span:active{\n    color: #995f99;\n    box-shadow: inset 0 -7px 5px rgba(0,0,0,0.025),\n    inset 0 5px 10px rgba(0,0,0,0.15);\n  }\n\n\n\n\n}\n</style>\n"]}]}