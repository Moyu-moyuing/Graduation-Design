{"remainingRequest":"E:\\vue\\vue-admin-template-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\vue\\vue-admin-template-master\\src\\views\\Editor\\Attribute\\structure\\index.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"E:\\vue\\vue-admin-template-master\\src\\views\\Editor\\Attribute\\structure\\index.vue","mtime":1650963832916},{"path":"E:\\vue\\vue-admin-template-master\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\vue\\vue-admin-template-master\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"E:\\vue\\vue-admin-template-master\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"E:\\vue\\vue-admin-template-master\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\vue\\vue-admin-template-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\vue\\vue-admin-template-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KLnN0cnVjdHVyZSB7DQogICAgaGVpZ2h0OiAxMDAlOw0KICAgIHdpZHRoOiAxMDAlOw0KICAgIGJhY2tncm91bmQ6ICMyODE5Mjg7DQogICAgOjp2LWRlZXAgLmVsLXRyZWUgew0KICAgICAgICBiYWNrZ3JvdW5kOiB1bnNldDsNCiAgICAgICAgLmVsLXRyZWUtbm9kZSB7DQogICAgICAgICAgICAuZWwtdHJlZS1ub2RlX19jb250ZW50IHsNCiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiB1bnNldDsNCiAgICAgICAgICAgICAgICAmOmhvdmVyIHsNCiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogI2ZmYTdmYjsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgLmVsLXRyZWUtbm9kZV9fbGFiZWwgew0KICAgICAgICAgICAgICAgICAgICBjb2xvcjogd2hpdGU7DQogICAgICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMTBweDsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICAuZWwtdHJlZS1ub2RlX19jaGlsZHJlbiB7DQogICAgICAgICAgICAgICAgYmFja2dyb3VuZDogIzI4MTkyODsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICAuaXMtY3VycmVudCB7DQogICAgICAgICAgICA+IC5lbC10cmVlLW5vZGVfX2NvbnRlbnQgew0KICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IHZpb2xldCAhaW1wb3J0YW50Ow0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfQ0KICAgIC5vYmplY3R7DQogICAgICAgIC5QYW5lbHsNCiAgICAgICAgICAgIGJvcmRlci10b3A6IDBweDsNCiAgICAgICAgICAgIHBhZGRpbmctdG9wOiAyMHB4Ow0KICAgICAgICAgICAgZGlzcGxheTogYmxvY2s7DQogICAgICAgICAgICAuUm93ew0KICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBmbGV4Ow0KICAgICAgICAgICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOw0KICAgICAgICAgICAgICAgICAgICBtaW4taGVpZ2h0OiAyNHB4Ow0KICAgICAgICAgICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxMHB4Ow0KICAgICAgICAgICAgICAgIC5VVUlESW5wdXR7DQogICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDJweDsNCiAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgdHJhbnNwYXJlbnQ7IA0KICAgICAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiAzMHB4Ow0KICAgICAgICAgICAgICAgICAgICB3aWR0aDogMTUwcHg7IA0KICAgICAgICAgICAgICAgICAgICBmb250LXNpemU6IDEycHg7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIC5OYW1lSW5wdXR7DQogICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDJweDsgDQogICAgICAgICAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHRyYW5zcGFyZW50OyANCiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDE1MHB4OyANCiAgICAgICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMzBweDsNCiAgICAgICAgICAgICAgICAgICAgZm9udC1zaXplOiAxMnB4Ow0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAuTnVtYmVyew0KICAgICAgICAgICAgICAgICAgICBjdXJzb3I6IG5zLXJlc2l6ZTsgDQogICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50Ow0KICAgICAgICAgICAgICAgICAgICB3aWR0aDogNTBweDsNCiAgICAgICAgICAgICAgICAgICAgY29sb3I6IHJnYigyNDYsIDI0NywgMjQ3KSFpbXBvcnRhbnQ7DQogICAgICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDMwcHg7DQogICAgICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMTBweDsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgLlRleHR7DQogICAgICAgICAgICAgICAgICAgIGN1cnNvcjogZGVmYXVsdDsNCiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrOw0KICAgICAgICAgICAgICAgICAgICB0ZXh0LWluZGVudDoyMHB4Ow0KICAgICAgICAgICAgICAgICAgICB3aWR0aDogOTBweDsNCiAgICAgICAgICAgICAgICAgICAgY29sb3I6IHdoaXRlOw0KICAgICAgICAgICAgICAgICAgICBmb250LXNpemU6IDEwcHg7DQogICAgICAgICAgICAgICAgfSANCiAgICAgICAgICAgICAgICAuZWwtY2hlY2tib3hfX2lucHV0LmlzLWNoZWNrZWQgLmVsLWNoZWNrYm94X19pbm5lciwgLmVsLWNoZWNrYm94X19pbnB1dC5pcy1pbmRldGVybWluYXRlIA0KICAgICAgICAgICAgICAgIC5lbC1jaGVja2JveF9faW5uZXJ7DQogICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6Z3JheTsNCiAgICAgICAgICAgICAgICAgICAgYm9yZGVyLWNvbG9yOmdyYXk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIC5lbC1jaGVja2JveF9faW5wdXQuaXMtY2hlY2tlZCArIC5lbC1jaGVja2JveF9fbGFiZWwgew0KICAgICAgICAgICAgICAgICAgICBjb2xvcjogZ3JheTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgLmVsLWNoZWNrYm94LmlzLWJvcmRlcmVkLmlzLWNoZWNrZWR7DQogICAgICAgICAgICAgICAgICAgIGJvcmRlci1jb2xvcjogZ3JheTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgLmVsLWNoZWNrYm94X19pbnB1dC5pcy1mb2N1cyAuZWwtY2hlY2tib3hfX2lubmVyew0KICAgICAgICAgICAgICAgICAgICBib3JkZXItY29sb3I6ICBncmF5Ow0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIA0KICAgICAgICB9DQogICAgICAgDQogICAgfQ0KfQ0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA","file":"index.vue","sourceRoot":"src/views/Editor/Attribute/structure","sourcesContent":["<template>\r\n    <div class=\"structure\">\r\n        <el-tree ref=\"ElTree\" :data=\"sceneStructure\" default-expand-all :highlight-current=\"true\" node-key=\"uuid\" :props=\"defaultProps\" @node-click=\"handleNodeClick\"\r\n        :current-node-key=\"current\">\r\n            <template #default=\"{ data }\">\r\n                <span class=\"el-tree-node__label\" :id=\"data.uuid\">{{ data.name }}</span>\r\n            </template>\r\n        </el-tree> \r\n        <div class=\"object\" style=\"\">\r\n            <div class=\"Panel\" >\r\n                <div class=\"Row\">\r\n                    <span class=\"Text\">类型</span>\r\n                    <span class=\"Text\">Mesh</span>\r\n                </div>\r\n                <div class=\"Row\">\r\n                    <span class=\"Text\">识别码</span>\r\n                    <input class=\"UUIDInput\" autocomplete=\"off\" disabled=\"\" >\r\n                    <!-- <button class=\"Button\" style=\"margin-left: 7px;\">更新</button> -->\r\n                </div>\r\n                <div class=\"Row\">\r\n                    <span class=\"Text\">名称</span>\r\n                    <input class=\"NameInput\" autocomplete=\"off\" >\r\n                </div>\r\n                <div class=\"Row\">\r\n                    <span class=\"Text\" >位置</span>\r\n                    <input class=\"Number\" autocomplete=\"off\" >\r\n                    <input class=\"Number\" autocomplete=\"off\">\r\n                    <input class=\"Number\" autocomplete=\"off\" >\r\n                </div>\r\n                <div class=\"Row\">\r\n                    <span class=\"Text\" >旋转</span>\r\n                    <input class=\"Number\" autocomplete=\"off\">\r\n                    <input class=\"Number\" autocomplete=\"off\">\r\n                    <input class=\"Number\" autocomplete=\"off\">\r\n                </div>\r\n                <div class=\"Row\">\r\n                    <span class=\"Text\" >缩放</span>\r\n                    <input class=\"Number\" autocomplete=\"off\" >\r\n                    <input class=\"Number\" autocomplete=\"off\">\r\n                    <input class=\"Number\" autocomplete=\"off\">\r\n                </div>\r\n                <div class=\"Row\">\r\n                    <span class=\"Text\" >可见性</span>\r\n                    <el-checkbox v-model=\"checked\"></el-checkbox>\r\n                </div>\r\n               \r\n                \r\n            </div>\r\n        </div>    \r\n    </div>\r\n    \r\n</template>\r\n\r\n<script>\r\nimport GetUUID from '../../../../lib/Getuuid';\r\nexport default {\r\n    \r\n    name:'structure',\r\n    mounted() {\r\n        this.RefreshSceneTree();//刷新生效\r\n        this.GetObject();\r\n              \r\n    },\r\n    watch:{\r\n        //监听当前current变化 \r\n        current(uuid){\r\n            if(uuid){\r\n                this.$refs.ElTree.setCurrentKey(uuid);\r\n            }\r\n            else{\r\n                this.$refs.ElTree.setCurrentKey(null);\r\n            }\r\n            \r\n        }\r\n    },\r\n    methods: {\r\n        // getScene(){\r\n        //     console.log(this.$parent.$parent.$parent.getScene());\r\n        // }\r\n        GetObject(){\r\n            this.$bus.$on('getEvent',(object)=>{ \r\n                //选中物体触发点击事件\r\n               this.handleNodeClick(object);\r\n              \r\n            })\r\n        },\r\n        RefreshSceneTree(){\r\n            //每次场景结构改变刷新场景树\r\n                this.$bus.$on('sceneChanged',(scenelist)=>{\r\n               let sceneTree=[];\r\n               let lightTree=[];\r\n               let helperTree=[];\r\n               this.createSceneStructure(scenelist,sceneTree,lightTree,helperTree);\r\n                this.sceneStructure[0].children=sceneTree;\r\n                this.sceneStructure[2].children=lightTree;\r\n                this.sceneStructure[3].children=helperTree;\r\n               \r\n            });\r\n        },\r\n        createSceneStructure(scenelist,sceneTree,lightTree,helperTree){\r\n            scenelist.map(c=>{\r\n                \r\n                let data={\r\n                    name:c.name,\r\n                    type:c.type,\r\n                    uuid:c.uuid\r\n                };\r\n                if(c.children&&c.children.length>0){\r\n                    data.children=[];\r\n                    this.createSceneStructure(c.children,data.children,data.children,data.children);\r\n                }\r\n                if(c.type.indexOf(\"Mesh\")!=-1){\r\n                    //说明是材质物体\r\n                    sceneTree.push(data);\r\n                }\r\n                else if(c.type.indexOf(\"Light\")!=-1){\r\n                    //说明是光\r\n                    lightTree.push(data);\r\n                }\r\n                else if(c.type.indexOf(\"Helper\")!=-1){\r\n                    //说明是辅助工具\r\n                    helperTree.push(data);\r\n                }\r\n\r\n            })\r\n        },\r\n       \r\n         handleNodeClick(target) {\r\n             if(target!=null){\r\n                 this.current=target.uuid;\r\n\r\n             }\r\n            else {\r\n                this.current='';\r\n            }\r\n            this.$bus.$emit('checkEvent',target);\r\n        // if (target.uuid && target.uuid !== this.current.uuid) {\r\n        //     this.current = target;\r\n        //      //console.log(this.current.uuid);\r\n        //     // console.log(target.uuid)\r\n            \r\n        // }\r\n        // if(target.uuid){\r\n        //     this.$refs.ElTree.setCurrentKey(target.uuid)\r\n        // }\r\n        \r\n    }\r\n    },\r\n   data() {\r\n       return {\r\n            current:'',\r\n            checked:true,\r\n            defaultProps:{\r\n\r\n                children: 'children',\r\n                label: 'name'\r\n            },\r\n            sceneStructure: [\r\n                { name: '场景', type: 'base', children: [] },\r\n                { name: '摄像机', type: 'cameraGroup', children: [\r\n                    {\r\n                        name: '透视相机',\r\n                        type:'perspectiveCamera',\r\n                        children:[]\r\n                    }\r\n                ] },\r\n                { name: '光源', type: 'lightGroup', children: [] },\r\n                {name: '辅助工具',type: 'helper',children:[]}\r\n            ],\r\n       }\r\n   },\r\n  \r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.structure {\r\n    height: 100%;\r\n    width: 100%;\r\n    background: #281928;\r\n    ::v-deep .el-tree {\r\n        background: unset;\r\n        .el-tree-node {\r\n            .el-tree-node__content {\r\n                background: unset;\r\n                &:hover {\r\n                    background: #ffa7fb;\r\n                }\r\n                .el-tree-node__label {\r\n                    color: white;\r\n                    font-size: 10px;\r\n                }\r\n            }\r\n            .el-tree-node__children {\r\n                background: #281928;\r\n            }\r\n        }\r\n        .is-current {\r\n            > .el-tree-node__content {\r\n                background: violet !important;\r\n            }\r\n        }\r\n    }\r\n    .object{\r\n        .Panel{\r\n            border-top: 0px;\r\n            padding-top: 20px;\r\n            display: block;\r\n            .Row{\r\n                    display: flex;\r\n                    align-items: center;\r\n                    min-height: 24px;\r\n                    margin-bottom: 10px;\r\n                .UUIDInput{\r\n                    padding: 2px;\r\n                    border: 1px solid transparent; \r\n                    border-radius: 30px;\r\n                    width: 150px; \r\n                    font-size: 12px;\r\n                }\r\n                .NameInput{\r\n                    padding: 2px; \r\n                    border: 1px solid transparent; \r\n                    width: 150px; \r\n                    border-radius: 30px;\r\n                    font-size: 12px;\r\n                }\r\n                .Number{\r\n                    cursor: ns-resize; \r\n                    background-color: transparent;\r\n                    width: 50px;\r\n                    color: rgb(246, 247, 247)!important;\r\n                    border-radius: 30px;\r\n                    font-size: 10px;\r\n                }\r\n                .Text{\r\n                    cursor: default;\r\n                    display: inline-block;\r\n                    text-indent:20px;\r\n                    width: 90px;\r\n                    color: white;\r\n                    font-size: 10px;\r\n                } \r\n                .el-checkbox__input.is-checked .el-checkbox__inner, .el-checkbox__input.is-indeterminate \r\n                .el-checkbox__inner{\r\n                    background-color:gray;\r\n                    border-color:gray;\r\n                }\r\n                .el-checkbox__input.is-checked + .el-checkbox__label {\r\n                    color: gray;\r\n                }\r\n                .el-checkbox.is-bordered.is-checked{\r\n                    border-color: gray;\r\n                }\r\n                .el-checkbox__input.is-focus .el-checkbox__inner{\r\n                    border-color:  gray;\r\n                }\r\n            }\r\n            \r\n        }\r\n       \r\n    }\r\n}\r\n</style>"]}]}