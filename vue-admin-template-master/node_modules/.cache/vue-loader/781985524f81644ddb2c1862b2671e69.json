{"remainingRequest":"E:\\wuhanligong-java\\music\\vue-admin-template-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\wuhanligong-java\\music\\vue-admin-template-master\\src\\views\\warehouse\\Warehouse.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\wuhanligong-java\\music\\vue-admin-template-master\\src\\views\\warehouse\\Warehouse.vue","mtime":1652625436627},{"path":"E:\\wuhanligong-java\\music\\vue-admin-template-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\wuhanligong-java\\music\\vue-admin-template-master\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\wuhanligong-java\\music\\vue-admin-template-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\wuhanligong-java\\music\\vue-admin-template-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JwpleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiAnV2FyZWhvdXNlJywKICAgIHdhdGNoOnsKICAgICAgJHJvdXRlOnsKICAgICAgICBoYW5kbGVyKCl7CiAgICAgICAgICAgIHRoaXMuR2V0QWxsQnlQYWdlcygpOwogICAgICAgIH0sCiAgICAgICAgZGVlcDp0cnVlCiAgICAgIH0KICAgIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcEdldHRlcnMoWwogICAgICAnbmFtZScKICAgIF0pCiAgfSwKICAgIGRhdGEoKXsKICAgICAgcmV0dXJuewogICAgICAgIGZpbGVEYXRhOltdLAogICAgICAgIHRvdGFsOiAwLAogICAgICAgIHBhZ2VOdW06MSwKICAgICAgICBwYWdlU2l6ZTogMiwKICAgICAgICB1c2VyaWQ6MCwKICAgICAgICB0aW1lOicnLAogICAgICAgIGZpbGVuYW1lOicnLAoKICAgICAgfQogICAgfSwKICAgIG1ldGhvZHM6ewoKICAgICAgUGxheShmaWxlKXsKICAgICAgICB0aGlzLnJlcXVlc3QuZ2V0KCJodHRwOi8vbG9jYWxob3N0OjkwOTAvZ2V0RmlsZWluZm9CeWlkIix7CiAgICAgICAgICBwYXJhbXM6ewogICAgICAgICAgICBpZDpmaWxlCiAgICAgICAgICB9CiAgICAgICAgfSkudGhlbihyZXM9PnsKICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgbmFtZTonU2NlbmUnCiAgICAgICAgICB9KTsKCiAgICAgICAgICB0aGlzLiRidXMuJGVtaXQoJ3BsYXlmaWxlJyxyZXMpOwogICAgICAgICAgLy9jb25zb2xlLmxvZyhyZXMpOwogICAgICAgIH0pCiAgICAgIH0sCiAgICAgIEVkaXQoaWQsZmlsZSl7CiAgICAgICAgdGhpcy5yZXF1ZXN0LmdldCgiaHR0cDovL2xvY2FsaG9zdDo5MDkwL2dldEZpbGVpbmZvQnlpZCIsewogICAgICAgICAgcGFyYW1zOnsKICAgICAgICAgICAgaWQ6ZmlsZQogICAgICAgICAgfQogICAgICAgIH0pLnRoZW4ocmVzPT57CgogICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgICBuYW1lOidFZGl0b3InCiAgICAgICAgICB9KTsKICAgICAgICAgIC8v6aG16Z2i6Lez6L2sCiAgICAgICAgICB0aGlzLiRidXMuJGVtaXQoJ2VpZHRmaWxlJyxyZXMsaWQpOwogICAgICAgIH0pCiAgICAgIH0sCiAgICAgIEFkZG5ldygpewogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgIG5hbWU6J0VkaXRvcicKICAgICAgICB9KTsKICAgICAgICB0aGlzLiRidXMuJGVtaXQoJ2FkZGZpbGUnKTsKICAgICAgfSwKICAgICAgRGVsZXRlKGlkLGZpbGUsZmlsZWltZyl7CgogICAgICAgIC8q5aaC5p6c5q2j5Zyo5ryU56S65ZKM57yW6L6R5o+Q56S65LiN6IO95Yig6ZmkCiAgICAgICAgKiAqLwogICAgICAgIHRoaXMucmVxdWVzdC5nZXQoImh0dHA6Ly9sb2NhbGhvc3Q6OTA5MC9kZWxldGVieWlkIix7CiAgICAgICAgICBwYXJhbXM6ewogICAgICAgICAgICBpZDpmaWxlCiAgICAgICAgICB9CiAgICAgICAgfSkudGhlbihyZXM9PnsKICAgICAgICAgIGNvbnNvbGUubG9nKCLliKDpmaTlm77niYciK3Jlcyk7CiAgICAgICAgfSk7CiAgICAgICAgdGhpcy5yZXF1ZXN0LmdldCgiaHR0cDovL2xvY2FsaG9zdDo5MDkwL2RlbGV0ZWJ5aWQiLHsKICAgICAgICAgIHBhcmFtczp7CiAgICAgICAgICAgIGlkOmZpbGVpbWcKICAgICAgICAgIH0KICAgICAgICB9KS50aGVuKHJlcz0+ewogICAgICAgICAgY29uc29sZS5sb2coIuWIoOmZpOWcuuaZryIrcmVzKTsKICAgICAgICB9KTsKICAgICAgICB0aGlzLnJlcXVlc3QuZGVsZXRlKCJodHRwOi8vbG9jYWxob3N0OjkwOTAvc2NlbmVmaWxlLyIraWQpLnRoZW4ocmVzPT57CiAgICAgICAgICBjb25zb2xlLmxvZygi5Yig6Zmk5paH5Lu2IityZXMpOwogICAgICAgIH0pOwogICAgICAgIHRoaXMucGFnZU51bT0xOwogICAgICAgIC8v5q+P5qyh5Yig6Zmk5ZCO5oqK6aG16Z2i5pWw6YeN572uCiAgICAgICAgdGhpcy5HZXRBbGxCeVBhZ2VzKCk7CiAgICAgIH0sCiAgICAgIFJlc2V0KCl7CiAgICAgICAgdGhpcy5maWxlbmFtZT0nJzsKICAgICAgICB0aGlzLnBhZ2VOdW09MTsKICAgICAgICAvL+WIhumhtemHjee9rgogICAgICAgIHRoaXMuR2V0QWxsQnlQYWdlcygpOwogICAgICB9LAogICAgICAgIEdldEFsbEJ5UGFnZXMoKXsKICAgICAgICAgIC8v6K+35rGC5YiG6aG15p+l6K+i5pWw5o2uCiAgICAgICAgICBsZXQgdGhhdD10aGlzOwogICAgICAgICAgY29uc29sZS5sb2codGhpcy5uYW1lKQogICAgICAgICAgdGhpcy5yZXF1ZXN0LmdldCgiaHR0cDovL2xvY2FsaG9zdDo5MDkwL3VzZXIvZ2V0aWQiLCB7CiAgICAgICAgICAgIHBhcmFtczp7CiAgICAgICAgICAgICAgbmFtZTp0aGlzLm5hbWUKICAgICAgICAgICAgfQogICAgICAgICAgfSkudGhlbihyZXM9PnsKCiAgICAgICAgICAgIHRoYXQudXNlcmlkPXJlcy5pZDsKICAgICAgICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgICAgICAgdGhhdC5yZXF1ZXN0LmdldCgiaHR0cDovL2xvY2FsaG9zdDo5MDkwL3NjZW5lZmlsZS9wYWdlIix7CiAgICAgICAgICAgICAgcGFyYW1zOnsKICAgICAgICAgICAgICAgIHBhZ2VOdW06dGhhdC5wYWdlTnVtLAogICAgICAgICAgICAgICAgcGFnZVNpemU6dGhhdC5wYWdlU2l6ZSwKICAgICAgICAgICAgICAgIHVzZXJpZDp0aGF0LnVzZXJpZCwKICAgICAgICAgICAgICAgIGZpbGVuYW1lOnRoYXQuZmlsZW5hbWUKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pLnRoZW4ocmVzPT57CiAgICAgICAgICAgICAgdGhhdC5maWxlRGF0YT1yZXMucmVjb3JkczsKICAgICAgICAgICAgICB0aGF0LnRvdGFsPXJlcy50b3RhbDsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgICAgICAgIC8vIHRoaXMuR2V0SW1nKCk7CiAgICAgICAgICAgIH0pCiAgICAgICAgICB9KTsKCiAgICAgICAgfSwKICAgICAgaGFuZGxlU2l6ZUNoYW5nZShwYWdlU2l6ZSl7CiAgICAgICAgICB0aGlzLnBhZ2VTaXplPXBhZ2VTaXplOwogICAgICAgICAgdGhpcy5HZXRBbGxCeVBhZ2VzKCk7CiAgICAgIH0sCiAgICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2UocGFnZU51bSl7CiAgICAgICAgICB0aGlzLnBhZ2VOdW09cGFnZU51bTsKICAgICAgICAgIHRoaXMuR2V0QWxsQnlQYWdlcygpOwogICAgICB9CiAgICB9LAogICAgbW91bnRlZCgpIHsKICAgICAgICB0aGlzLkdldEFsbEJ5UGFnZXMoKTsKICAgIH0KfQo="},{"version":3,"sources":["Warehouse.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Warehouse.vue","sourceRoot":"src/views/warehouse","sourcesContent":["<template>\n  <div class=\"about\">\n    <el-container>\n      <el-header style=\"text-align: center; height: 100px\">\n        <el-button @click=\"Addnew\" type=\"primary\" style=\"margin-top: 20px\" >\n          创您所想\n        </el-button>\n       <div style=\"margin-top: 10px\">\n         <span>开始创造您的音乐可视化</span>\n       </div>\n      </el-header>\n      <el-main>\n        <el-row>\n          <el-col\n            v-for=\"(item,index) in fileData\"\n            :key=\"item.id\"\n            :span=\"5\"\n            style=\"margin-bottom: 10px\"\n            :offset=\"1\"\n          >\n            <el-card style=\"height: 330px;width: 300px\" >\n              <div slot=\"header\" class=\"clearfix\">\n                <i class=\"el-icon-user\" /><span style=\"margin-left: 5px\">{{\n                  item.username\n                }}</span>\n                <div\n                  style=\"display: inline-block; float: right; cursor: pointer\"\n                  @click=\"Edit(item.id,item.file)\"\n                >\n                  <el-tooltip effect=\"dark\" content=\"编辑文件\" placement=\"top\">\n                    <i class=\"el-icon-edit-outline\" style=\"margin-left: 15px\" />\n                  </el-tooltip>\n                </div>\n              </div>\n              <div>\n                <i class=\"el-icon-document\" /><span style=\"margin-left: 5px\">文件名：{{ item.filename }}</span>\n<!--                <div class=\"role-left\">文件名：{{ item.filename }}</div>-->\n                <br><br>\n                <el-image\n                      style=\"width: 270px; height: 180px\"\n                      :src=\"'http://localhost:9090/img?id='+item.fileimg\"\n                      fit=\"content\"></el-image>\n              </div>\n              <div\n                style=\"display: inline-block; float: left; cursor: pointer\"\n                @click=\"Play(item.file)\"\n              >\n                <el-tooltip effect=\"dark\" content=\"场景展示\" placement=\"bottom\">\n                  <i class=\"el-icon-menu\" />\n                </el-tooltip>\n              </div>\n              <div\n                style=\"display: inline-block; float: right; cursor: pointer\"\n                @click=\"Delete(item.id,item.file,item.fileimg)\"\n              >\n                <el-tooltip effect=\"dark\" content=\"删除文件\" placement=\"bottom\">\n                  <i class=\"el-icon-delete\" style=\"margin-left: 15px\" />\n                </el-tooltip>\n              </div>\n            </el-card>\n          </el-col>\n        </el-row>\n      </el-main>\n      <el-footer>\n        <div class=\"block\">\n          <el-pagination\n            @size-change=\"handleSizeChange\"\n            @current-change=\"handleCurrentChange\"\n            :current-page=\"pageNum\"\n            :page-sizes=\"[2, 5, 10, 20]\"\n            :page-size=\"pageSize\"\n            layout=\"total, sizes, prev, pager, next, jumper\"\n            :total=\"total\">\n          </el-pagination>\n        </div>\n      </el-footer>\n    </el-container>\n\n\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex'\nexport default {\n    name: 'Warehouse',\n    watch:{\n      $route:{\n        handler(){\n            this.GetAllByPages();\n        },\n        deep:true\n      }\n    },\n  computed: {\n    ...mapGetters([\n      'name'\n    ])\n  },\n    data(){\n      return{\n        fileData:[],\n        total: 0,\n        pageNum:1,\n        pageSize: 2,\n        userid:0,\n        time:'',\n        filename:'',\n\n      }\n    },\n    methods:{\n\n      Play(file){\n        this.request.get(\"http://localhost:9090/getFileinfoByid\",{\n          params:{\n            id:file\n          }\n        }).then(res=>{\n          this.$router.push({\n            name:'Scene'\n          });\n\n          this.$bus.$emit('playfile',res);\n          //console.log(res);\n        })\n      },\n      Edit(id,file){\n        this.request.get(\"http://localhost:9090/getFileinfoByid\",{\n          params:{\n            id:file\n          }\n        }).then(res=>{\n\n          this.$router.push({\n            name:'Editor'\n          });\n          //页面跳转\n          this.$bus.$emit('eidtfile',res,id);\n        })\n      },\n      Addnew(){\n        this.$router.push({\n          name:'Editor'\n        });\n        this.$bus.$emit('addfile');\n      },\n      Delete(id,file,fileimg){\n\n        /*如果正在演示和编辑提示不能删除\n        * */\n        this.request.get(\"http://localhost:9090/deletebyid\",{\n          params:{\n            id:file\n          }\n        }).then(res=>{\n          console.log(\"删除图片\"+res);\n        });\n        this.request.get(\"http://localhost:9090/deletebyid\",{\n          params:{\n            id:fileimg\n          }\n        }).then(res=>{\n          console.log(\"删除场景\"+res);\n        });\n        this.request.delete(\"http://localhost:9090/scenefile/\"+id).then(res=>{\n          console.log(\"删除文件\"+res);\n        });\n        this.pageNum=1;\n        //每次删除后把页面数重置\n        this.GetAllByPages();\n      },\n      Reset(){\n        this.filename='';\n        this.pageNum=1;\n        //分页重置\n        this.GetAllByPages();\n      },\n        GetAllByPages(){\n          //请求分页查询数据\n          let that=this;\n          console.log(this.name)\n          this.request.get(\"http://localhost:9090/user/getid\", {\n            params:{\n              name:this.name\n            }\n          }).then(res=>{\n\n            that.userid=res.id;\n            console.log(res);\n            that.request.get(\"http://localhost:9090/scenefile/page\",{\n              params:{\n                pageNum:that.pageNum,\n                pageSize:that.pageSize,\n                userid:that.userid,\n                filename:that.filename\n              }\n            }).then(res=>{\n              that.fileData=res.records;\n              that.total=res.total;\n              console.log(res);\n              // this.GetImg();\n            })\n          });\n\n        },\n      handleSizeChange(pageSize){\n          this.pageSize=pageSize;\n          this.GetAllByPages();\n      },\n      handleCurrentChange(pageNum){\n          this.pageNum=pageNum;\n          this.GetAllByPages();\n      }\n    },\n    mounted() {\n        this.GetAllByPages();\n    }\n}\n</script>\n\n<style>\n\n</style>\n"]}]}