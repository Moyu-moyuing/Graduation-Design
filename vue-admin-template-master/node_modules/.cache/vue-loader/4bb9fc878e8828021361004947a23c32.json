{"remainingRequest":"E:\\vue\\vue-admin-template-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\vue\\vue-admin-template-master\\src\\views\\scene\\Scene.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\vue\\vue-admin-template-master\\src\\views\\scene\\Scene.vue","mtime":1651999233292},{"path":"E:\\vue\\vue-admin-template-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\vue\\vue-admin-template-master\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\vue\\vue-admin-template-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\vue\\vue-admin-template-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZS9idWlsZC90aHJlZS5tb2R1bGUuanMnDQppbXBvcnQgU3RhdHMgZnJvbSAnLi4vLi4vc3RvcmUvU3RhdHMvc3RhdHMubWluLmpzJw0KaW1wb3J0IHsgT3JiaXRDb250cm9scyB9IGZyb20gIi4uLy4uL2xpYi9PcmJpdENvbnRyb2xzLmpzIjsNCmltcG9ydCBpbmRleCwgeyBHVUkgfSBmcm9tICIuLi8uLi9saWIvZGF0Lmd1aS5tb2R1bGUuanMiOw0KLy/ovonlhYkNCmltcG9ydCB7IEVmZmVjdENvbXBvc2VyIH0gZnJvbSAidGhyZWUvZXhhbXBsZXMvanNtL3Bvc3Rwcm9jZXNzaW5nL0VmZmVjdENvbXBvc2VyLmpzIjsNCmltcG9ydCB7IFJlbmRlclBhc3MgfSBmcm9tICJ0aHJlZS9leGFtcGxlcy9qc20vcG9zdHByb2Nlc3NpbmcvUmVuZGVyUGFzcy5qcyI7DQppbXBvcnQgeyBHbGl0Y2hQYXNzIH0gZnJvbSAndGhyZWUvZXhhbXBsZXMvanNtL3Bvc3Rwcm9jZXNzaW5nL0dsaXRjaFBhc3MuanMnOw0KaW1wb3J0IHsgVW5yZWFsQmxvb21QYXNzIH0gZnJvbSAidGhyZWUvZXhhbXBsZXMvanNtL3Bvc3Rwcm9jZXNzaW5nL1VucmVhbEJsb29tUGFzcy5qcyI7DQoNCmltcG9ydCB7IFNoYWRlclBhc3MgfSBmcm9tICJ0aHJlZS9leGFtcGxlcy9qc20vcG9zdHByb2Nlc3NpbmcvU2hhZGVyUGFzcy5qcyI7DQppbXBvcnQgeyBDb3B5U2hhZGVyIH0gZnJvbSAidGhyZWUvZXhhbXBsZXMvanNtL3NoYWRlcnMvQ29weVNoYWRlci5qcyI7DQppbXBvcnQgeyByYW5nZSB9IGZyb20gIi4uLy4uL2NvbXBvbmVudHMvbW9kZS9yYW5nZSI7DQppbXBvcnQgeyBub2RlIH0gZnJvbSAiLi4vLi4vY29tcG9uZW50cy9tb2RlL25vZGUiOw0KaW1wb3J0IEF1ZGlvUGxheWVyIGZyb20gIi4uL3NjZW5lL1BsYXllci9QbGF5ZXIudnVlIg0KaW1wb3J0IHsgcmFuZG9tUmFuZ2UgfSBmcm9tICIuLi8uLi9jb21wb25lbnRzL21vZGUvcmFuZG9tUmFuZ2UiOw0KaW1wb3J0IHsgVHJpYW5nbGUgfSBmcm9tICIuLi8uLi9jb21wb25lbnRzL21vZGUvVHJpYW5nbGUiOw0KaW1wb3J0IHsgTG9hZGVyIH0gZnJvbSAnLi4vLi4vbGliL3RocmVlLm1vZHVsZS5qcyc7DQpsZXQgcmVuZGVyZXIsY2FtZXJhLHNjZW5lLGdlb21ldHJ5LG1hdGVyaWFsLG1lc2gsc3RhdHMsY29udHJvbHM7DQovLyAgbGV0IGNvbnRhaW5lcj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2ViZ2wnKTsNCmxldCBndWkgPSB7DQogIFI6IDIwLA0KICBHOiA5MCwNCiAgQjogMjI1LA0KICBUcmlhbmdsZXNCZ0NvbG9yOiAweDAzYTlmNCwNCiAgVHJpYW5nbGVzTGluZUNvbG9yOiAweDAzYTlmNCwNCiAgbGluZUNvbG9yOiAweDAwZmZmZiwNCiAgcm90YXRlOiBmYWxzZQ0KfTsNCmxldCBhdWRpbywgYW5hbHlzZXI7IC8vIOmfs+mikQ0KbGV0IEJhck5vZGVzOyAvLyDnur8NCmxldCBjb21wb3NlcjsvL+WQiOaIkOWZqA0KbGV0IFRyaWFuZ2xlcyA9IFtdLA0KICBUcmlhbmdsZUdyb3VwOw0KbGV0IExpbmVHcm91cHM9W107DQpsZXQgQmFyR3JvdXBzPVtdOw0KbGV0IEdlb21ldHJ5R3JvdXBzPVtdOw0KbGV0IG1hcD1bXTsNCmxldCBDb2xvck1hcD1bXTsNCmV4cG9ydCBkZWZhdWx0IHsNCiAgICBuYW1lOiAnU2NlbmUnLA0KICAgIGNvbXBvbmVudHM6ew0KICAgICAgQXVkaW9QbGF5ZXINCiAgICB9LA0KICAgIGRhdGEoKSB7DQogICAgICByZXR1cm4gew0KICAgICAgICBjbG9jazpuZXcgVEhSRUUuQ2xvY2soKSwNCiAgICAgICAgc2NhbGU6MSwNCiAgICAgICAgQW5hbHlzZXI6bnVsbCwNCiAgICAgICAgaXNQbGF5aW5nOmZhbHNlLA0KICAgICAgICBpc0xvYWRlZDpmYWxzZSwNCiAgICAgIH0NCiAgICB9LA0KICAgIHdhdGNoOnsNCiAgICAgIGlzTG9hZGVkOnsNCiAgICAgICAgaGFuZGxlcigpew0KICAgICAgICAgIGlmKHRoaXMuaXNMb2FkZWQ9PXRydWUpew0KICAgICAgICAgICAgIHRoaXMuaW5pdExpZ2h0KCk7DQogICAgICAgICAgICAgIHRoaXMuQW5hbHlzaXNMaW5lKCk7DQogICAgICAgICAgICAgIHRoaXMuaW5pdEJhcnMoKTsNCiAgICAgICAgICAgICAgdGhpcy5pbml0RWZmZWN0Q29tcG9zZXIoKTsNCiAgICAgICAgICAgICAgLy90aGF0LmluaXRTdGF0cygpOw0KICAgICAgICAgICAgLy8gaW5pdERhdEdVSSgpOw0KICAgICAgICAgICAgdGhpcy5hbmltYXRlKCk7DQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICB9DQogICAgfSwNCiAgICBtZXRob2RzOiB7DQogICAgICBJbXBvcnQoKXsNCiAgICAgICAgdGhpcy5pc0xvYWRlZD1mYWxzZTsNCiAgICAgICAgLy/mr4/mrKHlr7zlhaXmlLnlj5jlgLznhLblkI7ph43mlrDmuLLmn5MNCiAgICAgICAgbGV0IHRoYXQ9dGhpczsNCiAgICAgICAgbGV0IGlucHV0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7DQogICAgICAgIGlucHV0LnR5cGU9ImZpbGUiOw0KICAgICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCJjaGFuZ2UiLGZ1bmN0aW9uKCl7DQogICAgICAgICAgbGV0IGZpbGU9aW5wdXQuZmlsZXNbMF07DQogICAgICAgICAgaWYoZmlsZS50eXBlLmluZGV4T2YoImpzb24iKT49MCl7DQogICAgICAgICAgICBsZXQgdXJsID0gbnVsbCA7DQogICAgICAgICAgICBpZiAod2luZG93LmNyZWF0ZU9iamVjdFVSTCE9dW5kZWZpbmVkKSB7IC8vIGJhc2ljDQogICAgICAgICAgICAgICAgdXJsID0gd2luZG93LmNyZWF0ZU9iamVjdFVSTChmaWxlKSA7DQogICAgICAgICAgICB9IGVsc2UgaWYgKHdpbmRvdy5VUkwhPXVuZGVmaW5lZCkgeyAvLyBtb3ppbGxhKGZpcmVmb3gpDQogICAgICAgICAgICAgICAgdXJsID0gd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwoZmlsZSkgOw0KICAgICAgICAgICAgfSBlbHNlIGlmICh3aW5kb3cud2Via2l0VVJMIT11bmRlZmluZWQpIHsgLy8gd2Via2l0IG9yIGNocm9tZQ0KICAgICAgICAgICAgICAgIHVybCA9IHdpbmRvdy53ZWJraXRVUkwuY3JlYXRlT2JqZWN0VVJMKGZpbGUpIDsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIC8v5qC55o2udXJs6L+b6KGM5Yqg6L295Zue6LCD77yM5Y+v5Lul6Ziy5q2iDQogICAgICAgIC8vICAgICBsZXQgcmVhZGVyPW5ldyBGaWxlUmVhZGVyKCk7DQogICAgICAgIC8vICAgICAvL3JlYWRlci5yZWFkQXNUZXh0KGZpbGUpOw0KICAgICAgICAvLyAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7DQogICAgICAgIC8vIHJlYWRlci5vbmxvYWRlbmQgPSBmdW5jdGlvbihlKSB7DQogICAgICAgIC8vICAgX3RoYXQuYXVkaW9Mb2FkKGUudGFyZ2V0LnJlc3VsdCk7DQogICAgICAgIC8vIH07DQogICAgICAgICAgICANCg0KICAgICAgICAgICAgIGxldCBsb2FkZXI9bmV3IFRIUkVFLk9iamVjdExvYWRlcigpOw0KICAgICAgICAgICAgIGxvYWRlci5sb2FkKHVybCwNCiAgICAgICAgICAgICAgZnVuY3Rpb24ob2JqKXsNCiAgICAgICAgICAgICAgICAvL+WKoOi9veWujOaIkOWQjui/m+ihjA0KICAgICAgICAgICAgICAgIHNjZW5lPW9iajsNCiAgICAgICAgICAgICAgICB0aGF0LmlzTG9hZGVkPXRydWU7DQogICAgICAgICAgICAgDQogICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgIC8vIG9uUHJvZ3Jlc3MgY2FsbGJhY2sNCgkgICAgICAgICAgICBmdW5jdGlvbiAoIHhociApIHsNCgkJICAgICAgICAgIGNvbnNvbGUubG9nKCAoeGhyLmxvYWRlZCAvIHhoci50b3RhbCAqIDEwMCkgKyAnJSBsb2FkZWQnICk7DQoJICAgICAgICAgICAgfSwNCg0KCSAgICAgICAgICAvLyBvbkVycm9yIGNhbGxiYWNrDQoJICAgICAgICAgICAgZnVuY3Rpb24gKCBlcnIgKSB7DQoJCSAgICAgICAgICAgICAgY29uc29sZS5lcnJvciggJ0FuIGVycm9yIGhhcHBlbmVkJytlcnIgKTsNCiAgICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgICAgIC8vIGxldCByZWFkZXI9bmV3IEZpbGVSZWFkZXIoKTsNCiAgICAgICAgICAgIC8vIHJlYWRlci5yZWFkQXNUZXh0KGZpbGUpOw0KICAgICAgICAgICAgLy8gcmVhZGVyLm9ubG9hZGVuZD1mdW5jdGlvbigpew0KICAgICAgICAgICAgLy8gICBsZXQgbG9hZGVyPW5ldyBUSFJFRS5PYmplY3RMb2FkZXIoKTsNCiAgICAgICAgICAgIC8vICAgbG9hZGVyLnBhcnNlKEpTT04ucGFyc2UodGhpcy5yZXN1bHQpLA0KICAgICAgICAgICAgLy8gICAgIGZ1bmN0aW9uKG9iail7DQogICAgICAgICAgICAvLyAgICAgICBzY2VuZT1vYmo7DQogICAgICAgICAgICAvLyAgICAgfQ0KICAgICAgICAgICAgLy8gICApOw0KICAgICAgICAgICAgICAvL3NjZW5lPW5ld3NjZW5lOw0KICAgICAgICAgIH0NCiAgICAgICAgfSk7DQogICAgICAgIGlucHV0LmNsaWNrKCk7DQogICAgICB9LA0KICAgICAgLy8g6YCJ5oup6Z+z6aKRDQogICAgLy8gZ2V0QXVkaW8oKSB7DQogICAgLy8gICBsZXQgX3RoYXQgPSB0aGlzOw0KICAgIC8vICAgbGV0IG9iakZpbGUgPSB0aGlzLiRyZWZzLmZpbGVJZDsNCiAgICAvLyAgIGlmIChvYmpGaWxlLnZhbHVlID09PSAiIikgew0KICAgIC8vICAgICByZXR1cm4gZmFsc2U7DQogICAgLy8gICB9DQogICAgLy8gICBpZiAod2luZG93LkZpbGVSZWFkZXIpIHsNCiAgICAvLyAgICAgbGV0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7DQogICAgLy8gICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKG9iakZpbGUuZmlsZXNbMF0pOw0KICAgIC8vICAgICByZWFkZXIub25sb2FkZW5kID0gZnVuY3Rpb24oZSkgew0KICAgIC8vICAgICAgIF90aGF0LmF1ZGlvTG9hZChlLnRhcmdldC5yZXN1bHQpOw0KICAgIC8vICAgICB9Ow0KICAgIC8vICAgfQ0KICAgIC8vIH0sDQogICAgLy8gIOmfs+mikeWKoOi9veaSreaUvg0KICAgIC8vIGF1ZGlvTG9hZCh1cmwpIHsNCiAgICAvLyAgIC8vIGxldCBfdGhhdCA9IHRoaXM7DQoNCiAgICAvLyAgIGxldCBhdWRpb0xvYWRlciA9IG5ldyBUSFJFRS5BdWRpb0xvYWRlcigpOyAvLyDpn7PpopHliqDovb3lmagNCiAgICAvLyAgIGF1ZGlvTG9hZGVyLmxvYWQodXJsLCBmdW5jdGlvbihBdWRpb0J1ZmZlcikgew0KICAgIC8vICAgICBpZiAoYXVkaW8uaXNQbGF5aW5nKSB7DQogICAgLy8gICAgICAgYXVkaW8uc3RvcCgpOw0KICAgIC8vICAgICAgIGF1ZGlvLnNldEJ1ZmZlcigpOw0KICAgIC8vICAgICB9DQogICAgLy8gICAgIGF1ZGlvLnNldEJ1ZmZlcihBdWRpb0J1ZmZlcik7IC8vIOmfs+mikee8k+WGsuWMuuWvueixoeWFs+iBlOWIsOmfs+mikeWvueixoWF1ZGlvDQogICAgLy8gICAgIGF1ZGlvLnNldExvb3AodHJ1ZSk7IC8v5piv5ZCm5b6q546vDQogICAgLy8gICAgIGF1ZGlvLnNldFZvbHVtZSgxKTsgLy/pn7Pph48NCiAgICAvLyAgICAgYXVkaW8ucGxheSgpOyAvL+aSreaUvg0KICAgIC8vICAgICAvLyDpn7PpopHliIbmnpDlmajlkozpn7PpopHnu5HlrprvvIzlj6/ku6Xlrp7ml7bph4fpm4bpn7PpopHml7bln5/mlbDmja7ov5vooYzlv6vpgJ/lgoXph4zlj7blj5jmjaINCiAgICAvLyAgICAgYW5hbHlzZXIgPSBuZXcgVEhSRUUuQXVkaW9BbmFseXNlcihhdWRpbywgMjU2ICogMik7DQogICAgLy8gICB9KTsNCiAgICAvLyB9LA0KICAgIEdldFN0YXRlKCl7DQogICAgICB0aGlzLiRidXMuJG9uKCdQbGF5U3RhdGUnLChpc1BsYXlpbmcpPT57DQogICAgICAgICAgdGhpcy5pc1BsYXlpbmc9aXNQbGF5aW5nOw0KICAgICAgfSkNCiAgICB9LA0KICAgIEdldEF1ZGlvRGF0YSgpew0KICAgICAgbGV0IHRoYXQ9dGhpczsNCiAgICAgICAgdGhpcy4kYnVzLiRvbignQmluZGluZ0FuYWx5c2VyJywoYW5hbHlzZXIpPT57DQogICAgICAgICAgdGhhdC5BbmFseXNlcj1hbmFseXNlcjsNCiAgICAgICAgDQogICAgICAgIH0pDQogICAgfSwNCiAgICBpbml0QXVkaW8oKXsNCiAgICAgIGxldCBsaXN0ZW5lcj1uZXcgVEhSRUUuQXVkaW9MaXN0ZW5lcigpOw0KICAgICAgYXVkaW89bmV3IFRIUkVFLkF1ZGlvKGxpc3RlbmVyKTsNCiAgICB9LA0KICAgICAgQW5hbHlzaXNMaW5lKCl7DQogICAgICAgDQogICAgICAgIA0KICAgICAgICAvL+iOt+WPluWPmOWMlue6v+autQ0KICAgICAgICBzY2VuZS50cmF2ZXJzZShmdW5jdGlvbihvYmopew0KICAgICAgICAgIGlmKG9iai5uYW1lLmluZGV4T2YoIumfs+mikee6vyIpIT0tMSl7DQogICAgICAgICAgICBMaW5lR3JvdXBzLnB1c2gob2JqKTsNCiAgICAgICAgICAgIG1hcC5wdXNoKHsNCiAgICAgICAgICAgICAgdXVpZDpvYmoudXVpZCwNCiAgICAgICAgICAgICAgeDpvYmouc2NhbGUueCwNCiAgICAgICAgICAgICAgeTpvYmouc2NhbGUueSwNCiAgICAgICAgICAgICAgejpvYmouc2NhbGUueg0KICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgICB9ZWxzZSBpZihvYmoubmFtZS5pbmRleE9mKCLpn7PpopHosLEiKSE9LTEpew0KICAgICAgICAgICAgQmFyR3JvdXBzLnB1c2gob2JqKTsNCiAgICAgICAgICAgIG1hcC5wdXNoKHsNCiAgICAgICAgICAgICAgdXVpZDpvYmoudXVpZCwNCiAgICAgICAgICAgICAgeDpvYmouc2NhbGUueCwNCiAgICAgICAgICAgICAgeTpvYmouc2NhbGUueSwNCiAgICAgICAgICAgICAgejpvYmouc2NhbGUueg0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgIC8vIGNvbnNvbGUubG9nKG9iai5jaGlsZHJlblswXS5jaGlsZHJlblswXSk7DQogICAgICAgICAgICBDb2xvck1hcC5wdXNoKHsNCiAgICAgICAgICAgICAgdXVpZDpvYmoudXVpZCwNCiAgICAgICAgICAgICAgcjpvYmouY2hpbGRyZW5bMF0uY2hpbGRyZW5bMF0ubWF0ZXJpYWwuY29sb3IuciwNCiAgICAgICAgICAgICAgZzpvYmouY2hpbGRyZW5bMF0uY2hpbGRyZW5bMF0ubWF0ZXJpYWwuY29sb3IuZywNCiAgICAgICAgICAgICAgYjpvYmouY2hpbGRyZW5bMF0uY2hpbGRyZW5bMF0ubWF0ZXJpYWwuY29sb3IuYiwNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgY29uc29sZS5sb2cob2JqLmNoaWxkcmVuWzBdLmNoaWxkcmVuWzBdLm1hdGVyaWFsLmNvbG9yKTsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKENvbG9yTWFwKTsNCg0KICAgICAgICAgIH1lbHNlIGlmKG9iai50eXBlLmluZGV4T2YoJ01lc2gnKSE9LTEmJm9iai5wYXJlbnQ9PXNjZW5lKXsNCiAgICAgICAgICAgIC8v5Yeg5L2V5L2TDQogICAgICAgICAgICBHZW9tZXRyeUdyb3Vwcy5wdXNoKG9iaik7DQogICAgICAgICAgICBtYXAucHVzaCh7DQogICAgICAgICAgICAgIHV1aWQ6b2JqLnV1aWQsDQogICAgICAgICAgICAgIHg6b2JqLnNjYWxlLngsDQogICAgICAgICAgICAgIHk6b2JqLnNjYWxlLnksDQogICAgICAgICAgICAgIHo6b2JqLnNjYWxlLnoNCg0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICBjb25zb2xlLmxvZyhHZW9tZXRyeUdyb3Vwcyk7DQoNCiAgICAgICAgICB9DQogICAgICAgIH0pOw0KICAgICAgfSwNCiAgICAgICB1cGRhdGVDaXJjbGUobGluZXNHcm91cCx4LHkseikgew0KICAgICAgaWYgKEJhck5vZGVzKSB7DQogICAgICAgIA0KICAgICAgICBsaW5lc0dyb3VwLnNjYWxlLnNldCh0aGlzLnNjYWxlKngsdGhpcy5zY2FsZSp5LHRoaXMuc2NhbGUqeik7DQogICAgICAgIA0KICAgICAgICBjb25zdCBnZW9tZXRyeUEgPSBsaW5lc0dyb3VwLmNoaWxkcmVuWzBdLmdlb21ldHJ5Ow0KICAgICAgICAvL291dGxpbmUNCiAgICAgICAgY29uc3QgQXR0cmlidXRlQSA9IGdlb21ldHJ5QS5nZXRBdHRyaWJ1dGUoInBvc2l0aW9uIik7DQogICAgICAgIGNvbnN0IGdlb21ldHJ5QiA9IGxpbmVzR3JvdXAuY2hpbGRyZW5bMV0uZ2VvbWV0cnk7DQogICAgICAgIC8vaW5saW5lDQogICAgICAgIGNvbnN0IEF0dHJpYnV0ZUIgPSBnZW9tZXRyeUIuZ2V0QXR0cmlidXRlKCJwb3NpdGlvbiIpOw0KDQogICAgICAgIGNvbnN0IHBvc2l0aW9ucyA9IEJhck5vZGVzLm1hcCh2YWx1ZSA9PiB7DQogICAgICAgICAgcmV0dXJuIFt2YWx1ZS5wb3NpdGlvbkEoKSwgdmFsdWUucG9zaXRpb25CKCldOw0KICAgICAgICB9KTsNCiAgICAgICAgcG9zaXRpb25zLmZvckVhY2goKHBvc2l0aW9uLCBpbmRleCkgPT4gew0KICAgICAgICAgIEF0dHJpYnV0ZUEuc2V0KFtwb3NpdGlvblswXS54LCBwb3NpdGlvblswXS55XSwgaW5kZXggKiAzKTsNCiAgICAgICAgICBBdHRyaWJ1dGVCLnNldChbcG9zaXRpb25bMV0ueCwgcG9zaXRpb25bMV0ueV0sIGluZGV4ICogMyk7DQogICAgICAgICAgLy/liY3kuKTnur/mmK9vdXRsaW5l5ZKMaW5saW5lDQogICAgICAgICAgY29uc3QgZ2VvbWV0cnkgPSBsaW5lc0dyb3VwLmNoaWxkcmVuW2luZGV4KzJdLmdlb21ldHJ5Ow0KICAgICAgICAgIGNvbnN0IEF0dHJpYnV0ZSA9IGdlb21ldHJ5LmdldEF0dHJpYnV0ZSgicG9zaXRpb24iKTsNCiAgICAgICAgICBBdHRyaWJ1dGUuc2V0KA0KICAgICAgICAgICAgW3Bvc2l0aW9uWzBdLngsIHBvc2l0aW9uWzBdLnksIDAsIHBvc2l0aW9uWzFdLngsIHBvc2l0aW9uWzFdLnksIDBdLA0KICAgICAgICAgICAgMA0KICAgICAgICAgICk7DQogICAgICAgICAgQXR0cmlidXRlLm5lZWRzVXBkYXRlID0gdHJ1ZTsNCiAgICAgICAgfSk7DQogICAgICAgIEF0dHJpYnV0ZUEuc2V0KA0KICAgICAgICAgIFtBdHRyaWJ1dGVBLmFycmF5WzBdLCBBdHRyaWJ1dGVBLmFycmF5WzFdXSwNCiAgICAgICAgICBwb3NpdGlvbnMubGVuZ3RoICogMw0KICAgICAgICApOw0KICAgICAgICBBdHRyaWJ1dGVCLnNldCgNCiAgICAgICAgICBbQXR0cmlidXRlQi5hcnJheVswXSwgQXR0cmlidXRlQi5hcnJheVsxXV0sDQogICAgICAgICAgcG9zaXRpb25zLmxlbmd0aCAqIDMNCiAgICAgICAgKTsNCiAgICAgICAgQXR0cmlidXRlQS5uZWVkc1VwZGF0ZSA9IHRydWU7DQogICAgICAgIEF0dHJpYnV0ZUIubmVlZHNVcGRhdGUgPSB0cnVlOw0KICAgICAgfQ0KICAgIH0sDQoNCiAgICAgICAgaW5pdCgpew0KICAgICAgICAgICAgdGhpcy5pbml0UmVuZGVyZXIoKTsNCiAgICAgICAgICAgIHRoaXMuaW5pdFNjZW5lKCk7DQogICAgICAgICAgICB0aGlzLmluaXRDYW1lcmEoKTsNCiAgICAgICAgICAgIHRoaXMuaW5pdENvbnRyb2xzKCk7DQogICAgICAgICAgICANCiAgICAgICAgICAgIHRoaXMuaW5pdEF1ZGlvKCk7DQogICAgICAgICAgICAvL3RoaXMuaW5pdEVmZmVjdENvbXBvc2VyKCk7DQogICAgICAgICAgICB0aGlzLmluaXRTdGF0cygpOw0KICAgICAgICAgICAgLy8gaW5pdERhdEdVSSgpOw0KICAgICAgICAgICAgLy90aGlzLmFuaW1hdGUoKTsNCiAgICAgICAgICAgIA0KICAgICAgICB9LA0KICAgICAgICBpbml0Q29udHJvbHMoKSB7DQogICAgICAgICAgY29udHJvbHMgPSBuZXcgT3JiaXRDb250cm9scyhjYW1lcmEsIHJlbmRlcmVyLmRvbUVsZW1lbnQpOw0KICAgICAgICAgLy8g5aaC5p6c5L2/55SoYW5pbWF0ZeaWueazleaXtu+8jOWwhuatpOWHveaVsOWIoOmZpA0KICAgICAgICAgLy9jb250cm9scy5hZGRFdmVudExpc3RlbmVyKCAnY2hhbmdlJywgcmVuZGVyICk7DQogICAgICAgICAgLy8g5L2/5Yqo55S75b6q546v5L2/55So5pe26Zi75bC85oiW6Ieq6L2sIOaEj+aAneaYr+WQpuacieaDr+aApw0KICAgICAgICAgIGNvbnRyb2xzLmVuYWJsZURhbXBpbmcgPSB0cnVlOw0KICAgICAgICAgIC8v5Yqo5oCB6Zi75bC857O75pWwIOWwseaYr+m8oOagh+aLluaLveaXi+i9rOeBteaVj+W6pg0KICAgICAgICAgLy9jb250cm9scy5kYW1waW5nRmFjdG9yID0gMC4yNTsNCiAgICAgICAgICAvL+aYr+WQpuWPr+S7pee8qeaUvg0KICAgICAgICAgIGNvbnRyb2xzLmVuYWJsZVpvb20gPSBmYWxzZTsNCiAgICAgICAgICAvL+aYr+WQpuiHquWKqOaXi+i9rA0KICAgICAgICAgIGNvbnRyb2xzLmF1dG9Sb3RhdGUgPSBndWkucm90YXRlOw0KICAgICAgICAgIC8v6K6+572u55u45py66Led56a75Y6f54K555qE5pyA6L+c6Led56a7DQogICAgICAgICAgY29udHJvbHMubWluRGlzdGFuY2UgPSAxOw0KICAgICAgICAgIC8v6K6+572u55u45py66Led56a75Y6f54K555qE5pyA6L+c6Led56a7DQogICAgICAgICAgY29udHJvbHMubWF4RGlzdGFuY2UgPSAyMDA7DQogICAgICAgICAgLy/mmK/lkKblvIDlkK/lj7PplK7mi5bmi70NCiAgICAgICAgICBjb250cm9scy5lbmFibGVQYW4gPSBmYWxzZTsNCiAgICAgICAgfSwNCiAgICAgICAgaW5pdExpZ2h0KCkgew0KICAgICAgICAgIHNjZW5lLmFkZChuZXcgVEhSRUUuQW1iaWVudExpZ2h0KDB4NDQ0NDQ0KSk7DQogICAgICAgICAgbGV0IGxpZ2h0ID0gbmV3IFRIUkVFLlBvaW50TGlnaHQoMHhmZmZmZmYpOw0KICAgICAgICAgIGxpZ2h0LnBvc2l0aW9uLnNldCg4MCwgMTAwLCA1MCk7DQogICAgICAgICAgLy/lkYror4nlubPooYzlhYnpnIDopoHlvIDlkK/pmLTlvbHmipXlsIQNCiAgICAgICAgICBsaWdodC5jYXN0U2hhZG93ID0gdHJ1ZTsNCiAgICAgICAgICBzY2VuZS5hZGQobGlnaHQpOw0KICAgICAgICB9LA0KICAgICAgICBpbml0U3RhdHMoKXsNCiAgICAgICAgICAgICBzdGF0cyA9IG5ldyBTdGF0cygpOw0KICAgICAgICAgICAgIHN0YXRzLmRvbUVsZW1lbnQuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnOyAvL+e7neWvueWdkOaghyAgDQogICAgICAgICAgICAgc3RhdHMuZG9tRWxlbWVudC5zdHlsZS5sZWZ0ID0gJzBweCc7Ly8gKDAsMClweCzlt6bkuIrop5IgIA0KICAgICAgICAgICAgIHN0YXRzLmRvbUVsZW1lbnQuc3R5bGUudG9wID0gJzBweCc7ICANCiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3ZWJnbCcpLmFwcGVuZENoaWxkKHN0YXRzLmRvbUVsZW1lbnQpOw0KDQogICAgICAgIH0sDQogICAgICAgIC8vIHVwZGF0ZVBvc2l0aW9uKCl7DQogICAgICAgIC8vICAgICBtZXNoLnBvc2l0aW9uLnNldChjb250cm9scy5wb3NpdGlvblgsY29udHJvbHMucG9zaXRpb25ZLGNvbnRyb2xzLnBvc2l0aW9uWik7DQogICAgICAgIC8vIH0sDQogICAgICAgIC8v5Yid5aeL5YyW5riy5p+T5ZmoDQogICAgICAgIGluaXRSZW5kZXJlcigpew0KICAgICAgICAgICAgDQogICAgICAgICAgICANCiAgICAgICAgICAgIHJlbmRlcmVyPW5ldyBUSFJFRS5XZWJHTFJlbmRlcmVyKHsgYW50aWFsaWFzOiB0cnVlIH0pOy8v5a6e5L6L5YyW5riy5p+T5ZmoDQogICAgICAgICAgICByZW5kZXJlci5zZXRTaXplKHdpbmRvdy5pbm5lcldpZHRoKjAuODUsd2luZG93LmlubmVySGVpZ2h0KjAuODUpOy8v6K6+572u5a696auYDQogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2ViZ2wnKS5hcHBlbmRDaGlsZChyZW5kZXJlci5kb21FbGVtZW50KTsvL+a3u+WKoOWIsGRvbQ0KICAgICAgICB9LA0KICAgICAgICAvL+WIneWni+WMluWcuuaZrw0KICAgICAgICBpbml0U2NlbmUoKXsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgc2NlbmU9bmV3IFRIUkVFLlNjZW5lKCk7Ly/lrp7kvovljJblnLrmma8NCiAgICAgICAgLy8gICAgIHNjZW5lLmJhY2tncm91bmQgPSBuZXcgVEhSRUUuQ3ViZVRleHR1cmVMb2FkZXIoKS5sb2FkKFsNCiAgICAgICAgLy8gICByZXF1aXJlKCdAL2Fzc2V0cy9za3lib3gvcmlnaHQuanBnJyksDQogICAgICAgIC8vICAgcmVxdWlyZSgnQC9hc3NldHMvc2t5Ym94L2xlZnQuanBnJyksDQogICAgICAgIC8vICAgcmVxdWlyZSgnQC9hc3NldHMvc2t5Ym94L3RvcC5qcGcnKSwNCiAgICAgICAgLy8gICByZXF1aXJlKCdAL2Fzc2V0cy9za3lib3gvYm90dG9tLmpwZycpLA0KICAgICAgICAvLyAgIHJlcXVpcmUoJ0AvYXNzZXRzL3NreWJveC9mcm9udC5qcGcnKSwNCiAgICAgICAgLy8gICByZXF1aXJlKCdAL2Fzc2V0cy9za3lib3gvYmFjay5qcGcnKQ0KICAgICAgICAvLyBdKTsNCg0KICAgICAgICB9LA0KICAgICAgICAvL+WIneWni+WMluebuOacug0KICAgICAgICBpbml0Q2FtZXJhKCl7DQogICAgICAgICAgICBjYW1lcmE9bmV3IFRIUkVFLlBlcnNwZWN0aXZlQ2FtZXJhKDQ1LHdpbmRvdy5pbm5lcldpZHRoL3dpbmRvdy5pbm5lckhlaWdodCwwLjEsMjAwKQ0KICAgICAgICAgICAgLy/lrp7kvovljJbnm7jmnLrjgJENCiAgICAgICAgICAgIGNhbWVyYS5wb3NpdGlvbi5zZXQoMCwwLDE1MCk7DQogICAgICAgIH0sDQogICAgICAgIC8v5Yib5bu65qih5Z6LDQoNCg0KICAgICAgICAvL+i/kOihjOWKqOeUuw0KICAgICAgICBhbmltYXRlKCl7DQogICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5hbmltYXRlKTsvL+W+queOr+iwg+eUqOWHveaVsA0KDQogICAgICAgICAgICAvLyBtZXNoLnJvdGF0aW9uLngrPTAuMDE7DQogICAgICAgICAgICAvLyAvLyAvL+avj+W4p+e9keagvOaooeWei+ayv3jovbTml4vovawwLjAx5byn5bqmDQogICAgICAgICAgICAvLyBtZXNoLnJvdGF0aW9uLnkrPTAuMDI7DQogICAgICAgICAgICAvLyAvL+avj+W4p+e9keagvOaooeWei+ayv3novbTml4vovawwLjAy5byn5bqmDQogICAgICAgICAgICAvLyAvL3N0YXRzLnVwZGF0ZSgpOy8v5pu05paw5oCn6IO95qOA5rWL5qGGDQoNCiAgICAgICAgICAgIHN0YXRzLnVwZGF0ZSgpOw0KICAgICAgICAgICAgY29udHJvbHMudXBkYXRlKCk7DQogICAgICAgICAgICBpZih0aGlzLkFuYWx5c2VyJiZ0aGlzLmlzUGxheWluZyl7DQogICAgICAgICAgICAgIGxldCBidWZmZXJMZW5ndGg9dGhpcy5BbmFseXNlci5mcmVxdWVuY3lCaW5Db3VudDsNCiAgICAgICAgICAgICAgbGV0IGFycj1uZXcgVWludDhBcnJheShidWZmZXJMZW5ndGgpOw0KICAgICAgICAgICAgICB0aGlzLkFuYWx5c2VyLmdldEJ5dGVGcmVxdWVuY3lEYXRhKGFycik7DQogICAgICAgICAgICAgIC8vbGV0IGFycj1hbmFseXNlci5nZXRGcmVxdWVuY3lEYXRhKCk7DQogICAgICAgICAgICAgIGNvbnN0IERlbHRhPXRoaXMuY2xvY2suZ2V0RGVsdGEoKTsNCiAgICAgICAgICAgICAgQmFyTm9kZXMuZm9yRWFjaCgobm9kZSxpbmRleCxhcnJheSk9PnsNCiAgICAgICAgICAgICAgICBub2RlLnN0cmVuZ3RoKGFycltpbmRleCAlIGFycmF5Lmxlbmd0aF0qMC4xKTsNCiAgICAgICAgICAgICAgICBub2RlLnRyYW5zaXRpb24oRGVsdGEpOw0KICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAvL+S6i+WunuS4imFycuWAvOacgOWkpzI1Ne+8n++8n++8n++8n++8n++8nw0KICAgICAgICAgICAgICBsZXQgdGhhdD10aGlzOw0KICAgICAgICAgICAgICAgdGhpcy5zY2FsZT0xK2FycltNYXRoLmNlaWwoYXJyLmxlbmd0aCowLjA1KV0vNTAwOw0KICAgICAgICAgICAgICAgaWYoTGluZUdyb3Vwcy5sZW5ndGg+MCl7DQogICAgICAgICAgICAgICAgICBMaW5lR3JvdXBzLmZvckVhY2goZnVuY3Rpb24ob2JqKXsNCiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2NhbGVkYXRhPW1hcC5maWx0ZXIoKGl0ZW0pPT5pdGVtLnV1aWQ9PW9iai51dWlkKTsNCiAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgdGhhdC51cGRhdGVDaXJjbGUob2JqLHNjYWxlZGF0YVswXS54LHNjYWxlZGF0YVswXS55LHNjYWxlZGF0YVswXS56KTsNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgIGlmKEJhckdyb3Vwcy5sZW5ndGg+MCl7DQogICAgICAgICAgICAgICAgIEJhckdyb3Vwcy5mb3JFYWNoKGZ1bmN0aW9uKG9iail7DQogICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2NhbGVkYXRhPW1hcC5maWx0ZXIoKGl0ZW0pPT5pdGVtLnV1aWQ9PW9iai51dWlkKTsNCiAgICAgICAgICAgICAgICAgICAgY29uc3QgQmFyQ29sb3I9Q29sb3JNYXAuZmlsdGVyKChpdGVtKT0+aXRlbS51dWlkPT1vYmoudXVpZCk7DQogICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKEJhckNvbG9yWzBdLnIpOw0KICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhCYXJDb2xvclswXS5nKTsNCiAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coQmFyQ29sb3JbMF0uYik7DQogICAgICAgICAgICAgICAgICAgIHRoYXQudXBkYXRlQmFycyhhcnIsb2JqLHNjYWxlZGF0YVswXS54LHNjYWxlZGF0YVswXS55LHNjYWxlZGF0YVswXS56LA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBCYXJDb2xvclswXS5yLEJhckNvbG9yWzBdLmcsQmFyQ29sb3JbMF0uYik7DQogICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgICAgIGlmKEdlb21ldHJ5R3JvdXBzLmxlbmd0aD4wKXsNCiAgICAgICAgICAgICAgICAgR2VvbWV0cnlHcm91cHMuZm9yRWFjaChmdW5jdGlvbiAob2JqKXsNCiAgICAgICAgICAgICAgICAgICBjb25zdCBzY2FsZWRhdGE9bWFwLmZpbHRlcigoaXRlbSk9Pml0ZW0udXVpZD09b2JqLnV1aWQpOw0KICAgICAgICAgICAgICAgICAgIHRoYXQudXBkYXRlR2VvbWV0cnkob2JqLHNjYWxlZGF0YVswXS54LHNjYWxlZGF0YVswXS55LHNjYWxlZGF0YVswXS56KTsNCg0KICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgIA0KDQogICAgICAgICAgICB9DQogICAgICAgICAgICBjb21wb3Nlci5yZW5kZXIoKTsvL+S9v+eUqOWQjuacn+WkhOeQhumAmumBk+a4suafkw0KICAgICAgICB9LA0KICAgICAgICB1cGRhdGVHZW9tZXRyeShHZW9tZXRyeSx4LHkseil7DQogICAgICAgICAgICBHZW9tZXRyeS5zY2FsZS5zZXQodGhpcy5zY2FsZSp4LHRoaXMuc2NhbGUqeSx0aGlzLnNjYWxlKnopOw0KICAgICAgICB9LA0KICAgICAgICB1cGRhdGVCYXJzKGFycixiYXJHcm91cCx4LHkseixyLGcsYil7DQogICAgICAgICAgIGlmKGJhckdyb3VwKXsNCiAgICAgICAgICAgICAgYmFyR3JvdXAucm90YXRpb24ueiArPSAwLjAwMjsNCiAgICAgICAgICAgICAgYmFyR3JvdXAuc2NhbGUuc2V0KHRoaXMuc2NhbGUqeCwgdGhpcy5zY2FsZSp5LCB0aGlzLnNjYWxlKnopOw0KICAgICAgICAgICAgICBiYXJHcm91cC5jaGlsZHJlbi5mb3JFYWNoKChlbGVtLGluZGV4KT0+ew0KICAgICAgICAgICAgICAgIC8v6K6w5b2V55qE5Y6fcmdi5YC85pivMC0x55qE5rWu54K55YC877yM6ZyA6KaB5qC55o2u6aKR546H5pWw5YC86L2s5o2iDQogICAgICAgICAgICAgICAgaWYocj4wKXsNCiAgICAgICAgICAgICAgICAgICBlbGVtLmNoaWxkcmVuWzBdLm1hdGVyaWFsLmNvbG9yLnI9IGFycltpbmRleF0gKnIvIDI1NTsNCg0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgIGlmKGc+MCl7DQogICAgICAgICAgICAgICAgICBlbGVtLmNoaWxkcmVuWzBdLm1hdGVyaWFsLmNvbG9yLmc9YXJyW2luZGV4XSpnLzI1NTsNCiAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICBpZihiPjApew0KICAgICAgICAgICAgICAgICAgZWxlbS5jaGlsZHJlblswXS5tYXRlcmlhbC5jb2xvci5iPWFycltpbmRleF0qYi8yNTU7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgaWYoYXJyW2luZGV4XT09PTApew0KICAgICAgICAgICAgICAgICAgZWxlbS5zY2FsZS5zZXQoMSwxLDEpOw0KICAgICAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgICAgIGxldCBtID0gYXJyW2luZGV4XSAvIDIwOw0KICAgICAgICAgICAgICAgICAgIGxldCB0YXJnZXRSYW5nZSA9IE1hdGgubWF4KA0KICAgICAgICAgICAgICAgICAgYXJyW2luZGV4XSAvIDIwIC0gYXJyW2luZGV4IC0gMV0gLyAyMCwwKTsNCiAgICAgICAgICAgICAgaWYgKG0gPCB0YXJnZXRSYW5nZSkgew0KICAgICAgICAgICAgICAgIG0gPSB0YXJnZXRSYW5nZTsNCiAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgIGVsZW0uc2NhbGUuc2V0KDEsIG0sIDEpOw0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBpbml0QmFycygpew0KICAgICAgICAgIEJhck5vZGVzPXJhbmdlKDAsIDI1NikubWFwKGluZGV4ID0+IHsNCiAgICAgICAgICAgIHJldHVybiBuZXcgbm9kZSgNCiAgICAgICAgICAgICAgMjAsDQogICAgICAgICAgICAgICgoaW5kZXggLyAyNTYpICogMzYwICsgNDUpICUgMzYwLA0KICAgICAgICAgICAgICBuZXcgVEhSRUUuVmVjdG9yMigwLCAwKQ0KICAgICAgICAgICAgKTsNCiAgICAgICAgICB9KTsNCiAgICAgICAgfSwNCiAgICAgICAgLy/lkI7mnJ/lpITnkIYNCiAgICAgICAgaW5pdEVmZmVjdENvbXBvc2VyKCl7DQogICAgICAgICAgICBjb21wb3Nlcj1uZXcgRWZmZWN0Q29tcG9zZXIocmVuZGVyZXIpOw0KICAgICAgICAgICAgdmFyIHJlbmRlclBhc3M9bmV3IFJlbmRlclBhc3Moc2NlbmUsY2FtZXJhKTsNCiAgICAgICAgICAgIGNvbXBvc2VyLmFkZFBhc3MocmVuZGVyUGFzcyk7DQogICAgICAgICAgICAvL1JlbmRlclBhc3PpgJrluLjkvY3kuo7ov4fnqIvpk77nmoTlvIDlp4vvvIzku6Xkvr/lsIbmuLLmn5Plpb3nmoTlnLrmma/kvZzkuLrovpPlhaXmnaXmj5Dkvpvnu5nkuIvkuIDkuKrlkI7mnJ/lpITnkIbmraXpqqTjgIINCiAgICAgICAgICAgIC8vQ29weVNoYWRlcuaYr+S4uuS6huiDveWwhue7k+aenOi+k+WHuu+8jOaZrumAmueahOmAmumBk+S4gOiIrOmDveaYr+S4jeiDvei+k+WHuueahO+8jOimgemdoENvcHlTaGFkZXLov5vooYzovpPlh7oNCiAgICAgICAgICAgICBjb25zdCBjb3B5U2hhZGVyID0gbmV3IFNoYWRlclBhc3MoQ29weVNoYWRlcik7DQogICAgICAgICAgICBjb3B5U2hhZGVyLnJlbmRlclRvU2NyZWVuID0gdHJ1ZTsNCiAgICAgICAgICAgIC8v6L+Z5Liq5Y+C5pWw55qE55uu55qE5piv6ams5LiK5bCG5b2T5YmN55qE5YaF5a656L6T5Ye6DQogICAgICAgICAgICB0aGlzLmluaXRCbG9vbVBhc3MoKTsNCiAgICAgICAgICAgIGNvbXBvc2VyLmFkZFBhc3MoY29weVNoYWRlcik7DQogICAgICAgIH0sDQogICAgICAgIGluaXRCbG9vbVBhc3MoKXsNCiAgICAgICAgICBsZXQgcGFyYW1zID0gew0KICAgICAgICAgICAgZXhwb3N1cmU6IDAuNSwNCiAgICAgICAgICAgIGJsb29tU3RyZW5ndGg6IDEsDQogICAgICAgICAgICAgYmxvb21UaHJlc2hvbGQ6IDAsDQogICAgICAgICAgICBibG9vbVJhZGl1czogMC44DQogICAgICAgICAgfTsNCiAgICAgICAgICBsZXQgYmxvb21QYXNzPW5ldyBVbnJlYWxCbG9vbVBhc3MoDQogICAgICAgICAgICBuZXcgVEhSRUUuVmVjdG9yMih3aW5kb3cuaW5uZXJXaWR0aCowLjg1LHdpbmRvdy5pbm5lckhlaWdodCowLjg1KSwNCiAgICAgICAgICAgICAgMS41LA0KICAgICAgICAgICAgICAwLjIsDQogICAgICAgICAgICAgIDANCiAgICAgICAgICApOw0KICAgICAgICAgIGJsb29tUGFzcy50aHJlc2hvbGQgPSBwYXJhbXMuYmxvb21UaHJlc2hvbGQ7DQogICAgICAgICAgYmxvb21QYXNzLnN0cmVuZ3RoID0gcGFyYW1zLmJsb29tU3RyZW5ndGg7DQogICAgICAgICAgYmxvb21QYXNzLnJhZGl1cyA9IHBhcmFtcy5ibG9vbVJhZGl1czsNCiAgICAgICAgICBjb21wb3Nlci5hZGRQYXNzKGJsb29tUGFzcyk7DQoNCiAgICAgICAgfQ0KDQogICAgfSwNCiAgICBtb3VudGVkKCkgew0KICAgICAgICB0aGlzLmluaXQoKTsNCiAgICAgICAgdGhpcy5HZXRBdWRpb0RhdGEoKTsNCiAgICAgICAgdGhpcy5HZXRTdGF0ZSgpOw0KICAgICAgICANCiAgICB9LA0KfQ0K"},{"version":3,"sources":["Scene.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAiBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"Scene.vue","sourceRoot":"src/views/scene","sourcesContent":["<template>\r\n   <div class=\"app-container-play\">\r\n\r\n     <el-button @click=\"Import\" type=\"primary\" style=\"margin-left: 16px;\">\r\n        导入\r\n    </el-button>\r\n    <AudioPlayer/>\r\n     <!-- <div class=\"file-select-btn\" @click=\"$refs.fileId.click()\">\r\n      选择音乐\r\n      <input ref=\"fileId\" type=\"file\" class=\"file-input\" @change=\"getAudio\" />\r\n     </div> -->\r\n     <div id=\"webgl\" style=\"position:relative\"></div>\r\n     \r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport * as THREE from 'three/build/three.module.js'\r\nimport Stats from '../../store/Stats/stats.min.js'\r\nimport { OrbitControls } from \"../../lib/OrbitControls.js\";\r\nimport index, { GUI } from \"../../lib/dat.gui.module.js\";\r\n//辉光\r\nimport { EffectComposer } from \"three/examples/jsm/postprocessing/EffectComposer.js\";\r\nimport { RenderPass } from \"three/examples/jsm/postprocessing/RenderPass.js\";\r\nimport { GlitchPass } from 'three/examples/jsm/postprocessing/GlitchPass.js';\r\nimport { UnrealBloomPass } from \"three/examples/jsm/postprocessing/UnrealBloomPass.js\";\r\n\r\nimport { ShaderPass } from \"three/examples/jsm/postprocessing/ShaderPass.js\";\r\nimport { CopyShader } from \"three/examples/jsm/shaders/CopyShader.js\";\r\nimport { range } from \"../../components/mode/range\";\r\nimport { node } from \"../../components/mode/node\";\r\nimport AudioPlayer from \"../scene/Player/Player.vue\"\r\nimport { randomRange } from \"../../components/mode/randomRange\";\r\nimport { Triangle } from \"../../components/mode/Triangle\";\r\nimport { Loader } from '../../lib/three.module.js';\r\nlet renderer,camera,scene,geometry,material,mesh,stats,controls;\r\n//  let container=document.getElementById('webgl');\r\nlet gui = {\r\n  R: 20,\r\n  G: 90,\r\n  B: 225,\r\n  TrianglesBgColor: 0x03a9f4,\r\n  TrianglesLineColor: 0x03a9f4,\r\n  lineColor: 0x00ffff,\r\n  rotate: false\r\n};\r\nlet audio, analyser; // 音频\r\nlet BarNodes; // 线\r\nlet composer;//合成器\r\nlet Triangles = [],\r\n  TriangleGroup;\r\nlet LineGroups=[];\r\nlet BarGroups=[];\r\nlet GeometryGroups=[];\r\nlet map=[];\r\nlet ColorMap=[];\r\nexport default {\r\n    name: 'Scene',\r\n    components:{\r\n      AudioPlayer\r\n    },\r\n    data() {\r\n      return {\r\n        clock:new THREE.Clock(),\r\n        scale:1,\r\n        Analyser:null,\r\n        isPlaying:false,\r\n        isLoaded:false,\r\n      }\r\n    },\r\n    watch:{\r\n      isLoaded:{\r\n        handler(){\r\n          if(this.isLoaded==true){\r\n             this.initLight();\r\n              this.AnalysisLine();\r\n              this.initBars();\r\n              this.initEffectComposer();\r\n              //that.initStats();\r\n            // initDatGUI();\r\n            this.animate();\r\n          }\r\n        }\r\n      }\r\n    },\r\n    methods: {\r\n      Import(){\r\n        this.isLoaded=false;\r\n        //每次导入改变值然后重新渲染\r\n        let that=this;\r\n        let input=document.createElement('input');\r\n        input.type=\"file\";\r\n        input.addEventListener(\"change\",function(){\r\n          let file=input.files[0];\r\n          if(file.type.indexOf(\"json\")>=0){\r\n            let url = null ;\r\n            if (window.createObjectURL!=undefined) { // basic\r\n                url = window.createObjectURL(file) ;\r\n            } else if (window.URL!=undefined) { // mozilla(firefox)\r\n                url = window.URL.createObjectURL(file) ;\r\n            } else if (window.webkitURL!=undefined) { // webkit or chrome\r\n                url = window.webkitURL.createObjectURL(file) ;\r\n            }\r\n            //根据url进行加载回调，可以防止\r\n        //     let reader=new FileReader();\r\n        //     //reader.readAsText(file);\r\n        //     reader.readAsDataURL(file);\r\n        // reader.onloadend = function(e) {\r\n        //   _that.audioLoad(e.target.result);\r\n        // };\r\n            \r\n\r\n             let loader=new THREE.ObjectLoader();\r\n             loader.load(url,\r\n              function(obj){\r\n                //加载完成后进行\r\n                scene=obj;\r\n                that.isLoaded=true;\r\n             \r\n              },\r\n              // onProgress callback\r\n\t            function ( xhr ) {\r\n\t\t          console.log( (xhr.loaded / xhr.total * 100) + '% loaded' );\r\n\t            },\r\n\r\n\t          // onError callback\r\n\t            function ( err ) {\r\n\t\t              console.error( 'An error happened'+err );\r\n              });\r\n\r\n            // let reader=new FileReader();\r\n            // reader.readAsText(file);\r\n            // reader.onloadend=function(){\r\n            //   let loader=new THREE.ObjectLoader();\r\n            //   loader.parse(JSON.parse(this.result),\r\n            //     function(obj){\r\n            //       scene=obj;\r\n            //     }\r\n            //   );\r\n              //scene=newscene;\r\n          }\r\n        });\r\n        input.click();\r\n      },\r\n      // 选择音频\r\n    // getAudio() {\r\n    //   let _that = this;\r\n    //   let objFile = this.$refs.fileId;\r\n    //   if (objFile.value === \"\") {\r\n    //     return false;\r\n    //   }\r\n    //   if (window.FileReader) {\r\n    //     let reader = new FileReader();\r\n    //     reader.readAsDataURL(objFile.files[0]);\r\n    //     reader.onloadend = function(e) {\r\n    //       _that.audioLoad(e.target.result);\r\n    //     };\r\n    //   }\r\n    // },\r\n    //  音频加载播放\r\n    // audioLoad(url) {\r\n    //   // let _that = this;\r\n\r\n    //   let audioLoader = new THREE.AudioLoader(); // 音频加载器\r\n    //   audioLoader.load(url, function(AudioBuffer) {\r\n    //     if (audio.isPlaying) {\r\n    //       audio.stop();\r\n    //       audio.setBuffer();\r\n    //     }\r\n    //     audio.setBuffer(AudioBuffer); // 音频缓冲区对象关联到音频对象audio\r\n    //     audio.setLoop(true); //是否循环\r\n    //     audio.setVolume(1); //音量\r\n    //     audio.play(); //播放\r\n    //     // 音频分析器和音频绑定，可以实时采集音频时域数据进行快速傅里叶变换\r\n    //     analyser = new THREE.AudioAnalyser(audio, 256 * 2);\r\n    //   });\r\n    // },\r\n    GetState(){\r\n      this.$bus.$on('PlayState',(isPlaying)=>{\r\n          this.isPlaying=isPlaying;\r\n      })\r\n    },\r\n    GetAudioData(){\r\n      let that=this;\r\n        this.$bus.$on('BindingAnalyser',(analyser)=>{\r\n          that.Analyser=analyser;\r\n        \r\n        })\r\n    },\r\n    initAudio(){\r\n      let listener=new THREE.AudioListener();\r\n      audio=new THREE.Audio(listener);\r\n    },\r\n      AnalysisLine(){\r\n       \r\n        \r\n        //获取变化线段\r\n        scene.traverse(function(obj){\r\n          if(obj.name.indexOf(\"音频线\")!=-1){\r\n            LineGroups.push(obj);\r\n            map.push({\r\n              uuid:obj.uuid,\r\n              x:obj.scale.x,\r\n              y:obj.scale.y,\r\n              z:obj.scale.z\r\n            });\r\n\r\n          }else if(obj.name.indexOf(\"音频谱\")!=-1){\r\n            BarGroups.push(obj);\r\n            map.push({\r\n              uuid:obj.uuid,\r\n              x:obj.scale.x,\r\n              y:obj.scale.y,\r\n              z:obj.scale.z\r\n            });\r\n           // console.log(obj.children[0].children[0]);\r\n            ColorMap.push({\r\n              uuid:obj.uuid,\r\n              r:obj.children[0].children[0].material.color.r,\r\n              g:obj.children[0].children[0].material.color.g,\r\n              b:obj.children[0].children[0].material.color.b,\r\n            });\r\n            console.log(obj.children[0].children[0].material.color);\r\n            console.log(ColorMap);\r\n\r\n          }else if(obj.type.indexOf('Mesh')!=-1&&obj.parent==scene){\r\n            //几何体\r\n            GeometryGroups.push(obj);\r\n            map.push({\r\n              uuid:obj.uuid,\r\n              x:obj.scale.x,\r\n              y:obj.scale.y,\r\n              z:obj.scale.z\r\n\r\n            });\r\n            console.log(GeometryGroups);\r\n\r\n          }\r\n        });\r\n      },\r\n       updateCircle(linesGroup,x,y,z) {\r\n      if (BarNodes) {\r\n        \r\n        linesGroup.scale.set(this.scale*x,this.scale*y,this.scale*z);\r\n        \r\n        const geometryA = linesGroup.children[0].geometry;\r\n        //outline\r\n        const AttributeA = geometryA.getAttribute(\"position\");\r\n        const geometryB = linesGroup.children[1].geometry;\r\n        //inline\r\n        const AttributeB = geometryB.getAttribute(\"position\");\r\n\r\n        const positions = BarNodes.map(value => {\r\n          return [value.positionA(), value.positionB()];\r\n        });\r\n        positions.forEach((position, index) => {\r\n          AttributeA.set([position[0].x, position[0].y], index * 3);\r\n          AttributeB.set([position[1].x, position[1].y], index * 3);\r\n          //前两线是outline和inline\r\n          const geometry = linesGroup.children[index+2].geometry;\r\n          const Attribute = geometry.getAttribute(\"position\");\r\n          Attribute.set(\r\n            [position[0].x, position[0].y, 0, position[1].x, position[1].y, 0],\r\n            0\r\n          );\r\n          Attribute.needsUpdate = true;\r\n        });\r\n        AttributeA.set(\r\n          [AttributeA.array[0], AttributeA.array[1]],\r\n          positions.length * 3\r\n        );\r\n        AttributeB.set(\r\n          [AttributeB.array[0], AttributeB.array[1]],\r\n          positions.length * 3\r\n        );\r\n        AttributeA.needsUpdate = true;\r\n        AttributeB.needsUpdate = true;\r\n      }\r\n    },\r\n\r\n        init(){\r\n            this.initRenderer();\r\n            this.initScene();\r\n            this.initCamera();\r\n            this.initControls();\r\n            \r\n            this.initAudio();\r\n            //this.initEffectComposer();\r\n            this.initStats();\r\n            // initDatGUI();\r\n            //this.animate();\r\n            \r\n        },\r\n        initControls() {\r\n          controls = new OrbitControls(camera, renderer.domElement);\r\n         // 如果使用animate方法时，将此函数删除\r\n         //controls.addEventListener( 'change', render );\r\n          // 使动画循环使用时阻尼或自转 意思是否有惯性\r\n          controls.enableDamping = true;\r\n          //动态阻尼系数 就是鼠标拖拽旋转灵敏度\r\n         //controls.dampingFactor = 0.25;\r\n          //是否可以缩放\r\n          controls.enableZoom = false;\r\n          //是否自动旋转\r\n          controls.autoRotate = gui.rotate;\r\n          //设置相机距离原点的最远距离\r\n          controls.minDistance = 1;\r\n          //设置相机距离原点的最远距离\r\n          controls.maxDistance = 200;\r\n          //是否开启右键拖拽\r\n          controls.enablePan = false;\r\n        },\r\n        initLight() {\r\n          scene.add(new THREE.AmbientLight(0x444444));\r\n          let light = new THREE.PointLight(0xffffff);\r\n          light.position.set(80, 100, 50);\r\n          //告诉平行光需要开启阴影投射\r\n          light.castShadow = true;\r\n          scene.add(light);\r\n        },\r\n        initStats(){\r\n             stats = new Stats();\r\n             stats.domElement.style.position = 'absolute'; //绝对坐标  \r\n             stats.domElement.style.left = '0px';// (0,0)px,左上角  \r\n             stats.domElement.style.top = '0px';  \r\n            document.getElementById('webgl').appendChild(stats.domElement);\r\n\r\n        },\r\n        // updatePosition(){\r\n        //     mesh.position.set(controls.positionX,controls.positionY,controls.positionZ);\r\n        // },\r\n        //初始化渲染器\r\n        initRenderer(){\r\n            \r\n            \r\n            renderer=new THREE.WebGLRenderer({ antialias: true });//实例化渲染器\r\n            renderer.setSize(window.innerWidth*0.85,window.innerHeight*0.85);//设置宽高\r\n            document.getElementById('webgl').appendChild(renderer.domElement);//添加到dom\r\n        },\r\n        //初始化场景\r\n        initScene(){\r\n            \r\n            scene=new THREE.Scene();//实例化场景\r\n        //     scene.background = new THREE.CubeTextureLoader().load([\r\n        //   require('@/assets/skybox/right.jpg'),\r\n        //   require('@/assets/skybox/left.jpg'),\r\n        //   require('@/assets/skybox/top.jpg'),\r\n        //   require('@/assets/skybox/bottom.jpg'),\r\n        //   require('@/assets/skybox/front.jpg'),\r\n        //   require('@/assets/skybox/back.jpg')\r\n        // ]);\r\n\r\n        },\r\n        //初始化相机\r\n        initCamera(){\r\n            camera=new THREE.PerspectiveCamera(45,window.innerWidth/window.innerHeight,0.1,200)\r\n            //实例化相机】\r\n            camera.position.set(0,0,150);\r\n        },\r\n        //创建模型\r\n\r\n\r\n        //运行动画\r\n        animate(){\r\n            requestAnimationFrame(this.animate);//循环调用函数\r\n\r\n            // mesh.rotation.x+=0.01;\r\n            // // //每帧网格模型沿x轴旋转0.01弧度\r\n            // mesh.rotation.y+=0.02;\r\n            // //每帧网格模型沿y轴旋转0.02弧度\r\n            // //stats.update();//更新性能检测框\r\n\r\n            stats.update();\r\n            controls.update();\r\n            if(this.Analyser&&this.isPlaying){\r\n              let bufferLength=this.Analyser.frequencyBinCount;\r\n              let arr=new Uint8Array(bufferLength);\r\n              this.Analyser.getByteFrequencyData(arr);\r\n              //let arr=analyser.getFrequencyData();\r\n              const Delta=this.clock.getDelta();\r\n              BarNodes.forEach((node,index,array)=>{\r\n                node.strength(arr[index % array.length]*0.1);\r\n                node.transition(Delta);\r\n               \r\n              });\r\n              //事实上arr值最大255？？？？？？\r\n              let that=this;\r\n               this.scale=1+arr[Math.ceil(arr.length*0.05)]/500;\r\n               if(LineGroups.length>0){\r\n                  LineGroups.forEach(function(obj){\r\n                    const scaledata=map.filter((item)=>item.uuid==obj.uuid);\r\n                   \r\n                    that.updateCircle(obj,scaledata[0].x,scaledata[0].y,scaledata[0].z);\r\n                });\r\n               }\r\n               if(BarGroups.length>0){\r\n                 BarGroups.forEach(function(obj){\r\n                  \r\n                    const scaledata=map.filter((item)=>item.uuid==obj.uuid);\r\n                    const BarColor=ColorMap.filter((item)=>item.uuid==obj.uuid);\r\n                    // console.log(BarColor[0].r);\r\n                    // console.log(BarColor[0].g);\r\n                    // console.log(BarColor[0].b);\r\n                    that.updateBars(arr,obj,scaledata[0].x,scaledata[0].y,scaledata[0].z,\r\n                                   BarColor[0].r,BarColor[0].g,BarColor[0].b);\r\n                 });\r\n               };\r\n               if(GeometryGroups.length>0){\r\n                 GeometryGroups.forEach(function (obj){\r\n                   const scaledata=map.filter((item)=>item.uuid==obj.uuid);\r\n                   that.updateGeometry(obj,scaledata[0].x,scaledata[0].y,scaledata[0].z);\r\n\r\n                 });\r\n               }\r\n               \r\n\r\n            }\r\n            composer.render();//使用后期处理通道渲染\r\n        },\r\n        updateGeometry(Geometry,x,y,z){\r\n            Geometry.scale.set(this.scale*x,this.scale*y,this.scale*z);\r\n        },\r\n        updateBars(arr,barGroup,x,y,z,r,g,b){\r\n           if(barGroup){\r\n              barGroup.rotation.z += 0.002;\r\n              barGroup.scale.set(this.scale*x, this.scale*y, this.scale*z);\r\n              barGroup.children.forEach((elem,index)=>{\r\n                //记录的原rgb值是0-1的浮点值，需要根据频率数值转换\r\n                if(r>0){\r\n                   elem.children[0].material.color.r= arr[index] *r/ 255;\r\n\r\n                }\r\n               if(g>0){\r\n                  elem.children[0].material.color.g=arr[index]*g/255;\r\n               }\r\n                \r\n                if(b>0){\r\n                  elem.children[0].material.color.b=arr[index]*b/255;\r\n                }\r\n               \r\n                if(arr[index]===0){\r\n                  elem.scale.set(1,1,1);\r\n                }else{\r\n                   let m = arr[index] / 20;\r\n                   let targetRange = Math.max(\r\n                  arr[index] / 20 - arr[index - 1] / 20,0);\r\n              if (m < targetRange) {\r\n                m = targetRange;\r\n              }\r\n\r\n              elem.scale.set(1, m, 1);\r\n                }\r\n\r\n              });\r\n           }\r\n        },\r\n        initBars(){\r\n          BarNodes=range(0, 256).map(index => {\r\n            return new node(\r\n              20,\r\n              ((index / 256) * 360 + 45) % 360,\r\n              new THREE.Vector2(0, 0)\r\n            );\r\n          });\r\n        },\r\n        //后期处理\r\n        initEffectComposer(){\r\n            composer=new EffectComposer(renderer);\r\n            var renderPass=new RenderPass(scene,camera);\r\n            composer.addPass(renderPass);\r\n            //RenderPass通常位于过程链的开始，以便将渲染好的场景作为输入来提供给下一个后期处理步骤。\r\n            //CopyShader是为了能将结果输出，普通的通道一般都是不能输出的，要靠CopyShader进行输出\r\n             const copyShader = new ShaderPass(CopyShader);\r\n            copyShader.renderToScreen = true;\r\n            //这个参数的目的是马上将当前的内容输出\r\n            this.initBloomPass();\r\n            composer.addPass(copyShader);\r\n        },\r\n        initBloomPass(){\r\n          let params = {\r\n            exposure: 0.5,\r\n            bloomStrength: 1,\r\n             bloomThreshold: 0,\r\n            bloomRadius: 0.8\r\n          };\r\n          let bloomPass=new UnrealBloomPass(\r\n            new THREE.Vector2(window.innerWidth*0.85,window.innerHeight*0.85),\r\n              1.5,\r\n              0.2,\r\n              0\r\n          );\r\n          bloomPass.threshold = params.bloomThreshold;\r\n          bloomPass.strength = params.bloomStrength;\r\n          bloomPass.radius = params.bloomRadius;\r\n          composer.addPass(bloomPass);\r\n\r\n        }\r\n\r\n    },\r\n    mounted() {\r\n        this.init();\r\n        this.GetAudioData();\r\n        this.GetState();\r\n        \r\n    },\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>"]}]}