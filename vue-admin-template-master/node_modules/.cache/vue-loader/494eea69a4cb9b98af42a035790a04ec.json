{"remainingRequest":"E:\\wuhanligong-java\\music\\vue-admin-template-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\wuhanligong-java\\music\\vue-admin-template-master\\src\\views\\scene\\Player\\Player.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\wuhanligong-java\\music\\vue-admin-template-master\\src\\views\\scene\\Player\\Player.vue","mtime":1652875338763},{"path":"E:\\wuhanligong-java\\music\\vue-admin-template-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\wuhanligong-java\\music\\vue-admin-template-master\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\wuhanligong-java\\music\\vue-admin-template-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\wuhanligong-java\\music\\vue-admin-template-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgpleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOidBdWRpb1BsYXllcicsCiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIG11c2ljQnVmZmVyOm51bGwsCiAgICAgICAgICAgIC8v57yT5Yay5pWw5o2uCiAgICAgICAgICAgIGlzTG9hZGluZzpmYWxzZSwKICAgICAgICAgICAgLy/liKTmlq3mmK/lkKbliqDovb3pn7PkuZAKICAgICAgICAgICAgaXNQbGF5aW5nOmZhbHNlLAogICAgICAgICAgICAvL+aYr+WQpuato+WcqOaSreaUvumfs+S5kAogICAgICAgICAgICBmaWxlTmFtZTonJywKICAgICAgICAgICAgLy/pn7PkuZDlkI0KICAgICAgICAgICAgcGxheWVkVGltZTowLAogICAgICAgICAgICAvL+aSreaUvuaXtumXtAogICAgICAgICAgICBhdWRpb0N0eDpudWxsLAogICAgICAgICAgICAvL+mfs+mikeS4iuS4i+aWhwogICAgICAgICAgICBhdWRpb0J1ZmZlclNvdXJjZU5vZGU6bnVsbCwKICAgICAgICAgICAgLy/pn7PpopHoioLngrkKICAgICAgICAgICAgZmlsZVJlYWRlcjpudWxsLAogICAgICAgICAgICAvL+aWh+S7tuivu+WPlgogICAgICAgICAgICBhbmFseXNlcjpudWxsLAogICAgICAgICAgICAvL+WIhuaekOWZqAogICAgICAgICAgICBmaWxlRHVyYXRpb246MCwKICAgICAgICAgICAgLy/pn7PkuZDml7bplb8KICAgICAgICAgICAgdGltZXI6MCwKCiAgICAgICAgICAvL3BsYXllZFBlcmNlbnRhZ2U6IDAKICAgICAgICAgICAgLy9wbGF5ZWRQZXJjZW50YWdlOjAKICAgICAgICAgIC8vcGxheWVkUGVyY2VudGFnZTowCgogICAgICAgIH0KICAgIH0sCiAgICBjb21wdXRlZDp7CiAgICAgICAgcGxheWVkUGVyY2VudGFnZTp7CiAgICAgICAgICAgIGdldCgpewogICAgICAgICAgICAgICAgaWYodGhpcy5maWxlRHVyYXRpb24+MCl7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucGxheWVkVGltZSoxMDAvdGhpcy5maWxlRHVyYXRpb247CgogICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHNldChwZXJjZW50YWdlKXsKCiAgICAgICAgICAgICAgICB0aGlzLnBsYXllZFRpbWU9cGVyY2VudGFnZSp0aGlzLmZpbGVEdXJhdGlvbi8xMDA7CgogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfSwKICAgd2F0Y2g6ewogICAgICAgIGlzUGxheWluZzp7CiAgICAgICAgICAgIGhhbmRsZXIoKXsKICAgICAgICAgICAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnUGxheVN0YXRlJyx0aGlzLmlzUGxheWluZyk7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGRlZXA6dHJ1ZSwKICAgICAgICAgICAgaW1tZWRpYXRlOnRydWUKICAgICAgICB9CiAgICB9LAogICAgbW91bnRlZCgpIHsKICAgICAgICB0aGlzLmluaXRDb250ZXh0KCk7CgoKICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgIGNoYW5nZXByb2Nlc3MoKXsKICAgICAgICBpZighdGhpcy5pc0xvYWRpbmcpewogICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigi5pyq5Yqg6L295aqS5L2TIik7CiAgICAgICAgICB0aGlzLnBsYXllZFRpbWU9MDsKICAgICAgICB9ZWxzZXsKICAgICAgICAgIGlmKHRoaXMuaXNQbGF5aW5nKXsKICAgICAgICAgICAgLy/mraPlnKjmkq3mlL7ml7bmlLnlj5gKICAgICAgICAgICAgdGhpcy5wbGF5X3BhdXNlKCk7CiAgICAgICAgICAgIHRoaXMucGxheV9wYXVzZSgpOwogICAgICAgICAgfQogICAgICAgICAgZWxzZXsKICAgICAgICAgICAgLy/mmoLlgZzml7bmlLnlj5gKICAgICAgICAgICAgdGhpcy5wbGF5X3BhdXNlKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LAoKICAgICAgbG9hZGZpbGUoKXsKICAgICAgICBsZXQgdGhhdD10aGlzOwogICAgICAgIGxldCBmaWxlOwogICAgICAgIGxldCBpbnB1dD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpOwogICAgICAgIGlucHV0LnR5cGU9ImZpbGUiOwogICAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoImNoYW5nZSIsZnVuY3Rpb24oKXsKICAgICAgICAgICAgIGZpbGU9aW5wdXQuZmlsZXNbMF07CiAgICAgICAgICB0aGF0LmZpbGVOYW1lPWZpbGUubmFtZTsKICAgICAgICAgIHRoYXQuZmlsZXJlYWRlcj1uZXcgRmlsZVJlYWRlcigpOwogICAgICAgICAgdGhhdC5maWxlcmVhZGVyLnJlYWRBc0FycmF5QnVmZmVyKGZpbGUpOwogICAgICAgICAgdGhhdC5maWxlcmVhZGVyLm9ubG9hZD0oZXZlbnQpPT57CiAgICAgICAgICAgIHRoYXQuYXVkaW9DdHguZGVjb2RlQXVkaW9EYXRhKGV2ZW50LnRhcmdldC5yZXN1bHQsKGJ1ZmZlcik9PnsKICAgICAgICAgICAgICB0aGF0Lm11c2ljQnVmZmVyPWJ1ZmZlcjsKICAgICAgICAgICAgICAvL+WFiOWtmOmfs+mikeaVsOaNrgogICAgICAgICAgICAgIHRoYXQuaXNMb2FkaW5nPXRydWU7CiAgICAgICAgICAgICAgdGhhdC5maWxlRHVyYXRpb249YnVmZmVyLmR1cmF0aW9uOwoKICAgICAgICAgICAgICB0aGF0LkFuYWx5c2VyRGF0YSgpOwogICAgICAgICAgICB9KQogICAgICAgICAgICAvL+mfs+mikeaVsOaNrgogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIGlucHV0LmNsaWNrKCk7CiAgICAgIH0sCiAgICAgIHBsYXlfcGF1c2UoKXsKICAgICAgICBjb25zdCBwbGF5ZXI9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLlBsYXktUGF1c2UnKTsKICAgICAgICAvL2NvbnNvbGUubG9nKHBsYXllcik7CiAgICAgICAgaWYoIXRoaXMuaXNMb2FkaW5nKXsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIuacquWKoOi9veWqkuS9kyIpOwoKICAgICAgICB9ZWxzZXsKICAgICAgICAgIGlmKCF0aGlzLmlzUGxheWluZyl7CiAgICAgICAgICAgIC8v5Y+q5pyJ5q+P5qyh5pKt5pS+5pe25omN5bu656uL77yM5Zug5Li6c3RhcnTlj6rog73kuIDmrKEKICAgICAgICAgICAgdGhpcy5hdWRpb0J1ZmZlclNvdXJjZU5vZGU9dGhpcy5hdWRpb0N0eC5jcmVhdGVCdWZmZXJTb3VyY2UoKTsKICAgICAgICAgICAgLy/kuIDlvIDlp4vov5vooYzliJ3lp4vljJYKICAgICAgICAgICAgdGhpcy5hdWRpb0J1ZmZlclNvdXJjZU5vZGUuYnVmZmVyPXRoaXMubXVzaWNCdWZmZXI7CiAgICAgICAgICAgIC8v5pKt5pS+5pe25omN5Y675Yqg6L295pWw5o2uCiAgICAgICAgICAgIHRoaXMuYXVkaW9CdWZmZXJTb3VyY2VOb2RlLmNvbm5lY3QodGhpcy5hdWRpb0N0eC5kZXN0aW5hdGlvbik7CiAgICAgICAgICAgIC8v6L+e5o6lCiAgICAgICAgICAgIHRoaXMuYXVkaW9CdWZmZXJTb3VyY2VOb2RlLmNvbm5lY3QodGhpcy5hbmFseXNlcik7CiAgICAgICAgICAgIC8v6L+e5o6l5YiG5p6Q5ZmoCiAgICAgICAgICAgIHRoaXMuYXVkaW9CdWZmZXJTb3VyY2VOb2RlLnN0YXJ0KDAsdGhpcy5wbGF5ZWRUaW1lKTsKICAgICAgICAgICAgLy/mkq3mlL4KICAgICAgICAgICAgcGxheWVyLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpOwoKICAgICAgICAgICAgdGhpcy5pc1BsYXlpbmc9dHJ1ZTsKICAgICAgICAgICAgdGhpcy50aW1lcj1zZXRJbnRlcnZhbCgoKT0+ewogICAgICAgICAgICAgIGlmKHRoaXMucGxheWVkVGltZTx0aGlzLmZpbGVEdXJhdGlvbil7CiAgICAgICAgICAgICAgICB0aGlzLnBsYXllZFRpbWUrPTAuMTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgZWxzZXsKICAgICAgICAgICAgICAgIHRoaXMucGxheWVkVGltZT0wOwogICAgICAgICAgICAgICAgdGhpcy5hdWRpb0J1ZmZlclNvdXJjZU5vZGUuc3RvcCgpOwogICAgICAgICAgICAgICAgdGhpcy5hdWRpb0J1ZmZlclNvdXJjZU5vZGUuZGlzY29ubmVjdCgpOwogICAgICAgICAgICAgICAgdGhpcy5pc1BsYXlpbmc9ZmFsc2U7CiAgICAgICAgICAgICAgICBwbGF5ZXIuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7CiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMudGltZXIpOwoKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sMTAwKTsKICAgICAgICAgICAgLy/lrp7ml7bmm7TmlrDov5vluqbmnaHvvIzmr48xMDDmr6vnp5LljbMwLjHnp5Lmm7TmlrDkuIDmrKHvvIwKICAgICAgICAgIH0KICAgICAgICAgIGVsc2V7CiAgICAgICAgICAgIHRoaXMuYXVkaW9CdWZmZXJTb3VyY2VOb2RlLnN0b3AoKTsKICAgICAgICAgICAgdGhpcy5hdWRpb0J1ZmZlclNvdXJjZU5vZGUuZGlzY29ubmVjdCgpOwogICAgICAgICAgICB0aGlzLmlzUGxheWluZz1mYWxzZTsKICAgICAgICAgICAgcGxheWVyLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpOwogICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMudGltZXIpOwogICAgICAgICAgfQoKICAgICAgICB9CgogICAgICB9LAogICAgICAgIGluaXRDb250ZXh0KCl7CiAgICAgICAgICAgIGNvbnN0IEF1ZGlvQ29udGV4dCA9IHdpbmRvdy5BdWRpb0NvbnRleHQgfHwgd2luZG93LndlYmtpdEF1ZGlvQ29udGV4dDsKICAgICAgICAgICAgdGhpcy5hdWRpb0N0eD1uZXcgQXVkaW9Db250ZXh0KCk7CiAgICAgICAgICAgIC8v5Yib5bu65LiK5LiL5paHCgogICAgICAgICAgICAvL+WIm+W7uue8k+WGsuiKgueCuQogICAgICAgICAgIHRoaXMuYW5hbHlzZXI9dGhpcy5hdWRpb0N0eC5jcmVhdGVBbmFseXNlcigpOwogICAgICAgIH0sCiAgICAgIC8vIHBsYXkoKXsKICAgICAgLy8gICAgICAgaWYoIXRoaXMuaXNMb2FkaW5nKXsKICAgICAgLy8gICAgICAgICAgIGFsZXJ0KCfmnKrliqDovb3lqpLkvZMnKTsKICAgICAgLy8gICAgICAgfWVsc2V7CiAgICAgIC8vICAgICAgICAgICBpZighdGhpcy5pc1BsYXlpbmcpewogICAgICAvLyAgICAgICAgICAgICAgLy/lj6rmnInmr4/mrKHmkq3mlL7ml7bmiY3lu7rnq4vvvIzlm6DkuLpzdGFydOWPquiDveS4gOasoQogICAgICAvLyAgICAgICAgICAgICB0aGlzLmF1ZGlvQnVmZmVyU291cmNlTm9kZT10aGlzLmF1ZGlvQ3R4LmNyZWF0ZUJ1ZmZlclNvdXJjZSgpOwogICAgICAvLyAgICAgICAgICAgICAgIC8v5LiA5byA5aeL6L+b6KGM5Yid5aeL5YyWCiAgICAgIC8vICAgICAgICAgICB0aGlzLmF1ZGlvQnVmZmVyU291cmNlTm9kZS5idWZmZXI9dGhpcy5tdXNpY0J1ZmZlcjsKICAgICAgLy8gICAgICAgICAgIC8v5pKt5pS+5pe25omN5Y675Yqg6L295pWw5o2uCiAgICAgIC8vICAgICAgICAgICB0aGlzLmF1ZGlvQnVmZmVyU291cmNlTm9kZS5jb25uZWN0KHRoaXMuYXVkaW9DdHguZGVzdGluYXRpb24pOwogICAgICAvLyAgICAgICAgICAgLy/ov57mjqUKICAgICAgLy8gICAgICAgICAgIHRoaXMuYXVkaW9CdWZmZXJTb3VyY2VOb2RlLmNvbm5lY3QodGhpcy5hbmFseXNlcik7CiAgICAgIC8vICAgICAgICAgICAvL+i/nuaOpeWIhuaekOWZqAogICAgICAvLyAgICAgICAgICAgdGhpcy5hdWRpb0J1ZmZlclNvdXJjZU5vZGUuc3RhcnQodGhpcy5wbGF5ZWRUaW1lLHRoaXMucGxheWVkVGltZSk7CiAgICAgIC8vICAgICAgICAgICAvL+aSreaUvgogICAgICAvLwogICAgICAvLwogICAgICAvLyAgICAgICAgICAgdGhpcy5pc1BsYXlpbmc9dHJ1ZTsKICAgICAgLy8gICAgICAgICAgIHRoaXMudGltZXI9c2V0SW50ZXJ2YWwoKCk9PnsKICAgICAgLy8gICAgICAgICAgICAgICBpZih0aGlzLnBsYXllZFRpbWU8dGhpcy5maWxlRHVyYXRpb24pewogICAgICAvLyAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXllZFRpbWUrPTAuMTsKICAgICAgLy8gICAgICAgICAgICAgICB9CiAgICAgIC8vICAgICAgICAgICAgICAgZWxzZXsKICAgICAgLy8gICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5ZWRUaW1lPTA7CiAgICAgIC8vICAgICAgICAgICAgICAgICAgIC8vdGhpcy5pc1BsYXlpbmc9ZmFsc2U7CiAgICAgIC8vICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy50aW1lcik7CiAgICAgIC8vCiAgICAgIC8vICAgICAgICAgICAgICAgfQogICAgICAvLyAgICAgICAgICAgfSwxMDApOwogICAgICAvLyAgICAgICAgICAgLy/lrp7ml7bmm7TmlrDov5vluqbmnaHvvIzmr48xMDDmr6vnp5LljbMwLjHnp5Lmm7TmlrDkuIDmrKHvvIwKICAgICAgLy8gICAgICAgICAgIH0KICAgICAgLy8KICAgICAgLy8gICAgICAgfQogICAgICAvLwogICAgICAvLwogICAgICAvLyAgIH0sCiAgICAgIC8vICAgcGF1c2UoKXsKICAgICAgLy8gICAgICAgaWYoIXRoaXMuaXNMb2FkaW5nKXsKICAgICAgLy8gICAgICAgICAgIGFsZXJ0KCfmnKrliqDovb3lqpLkvZMnKTsKICAgICAgLy8gICAgICAgfQogICAgICAvLyAgICAgICBlbHNlewogICAgICAvLyAgICAgICAgICAgaWYodGhpcy5pc1BsYXlpbmcpewogICAgICAvLyAgICAgICAgICAgdGhpcy5hdWRpb0J1ZmZlclNvdXJjZU5vZGUuc3RvcCgpOwogICAgICAvLyAgICAgICAgICAgdGhpcy5hdWRpb0J1ZmZlclNvdXJjZU5vZGUuZGlzY29ubmVjdCgpOwogICAgICAvLyAgICAgICAgICAgIHRoaXMuaXNQbGF5aW5nPWZhbHNlOwogICAgICAvLyAgICAgICAgICAgICB0aGlzLnBsYXllci5jbGFzc0xpc3QucmVtb3ZlKCcgYWN0aXZlJyk7CiAgICAgIC8vICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMudGltZXIpOwogICAgICAvLyAgICAgICAgICAgfQogICAgICAvLwogICAgICAvLwogICAgICAvLyAgICAgICB9CiAgICAgIC8vCiAgICAgIC8vICAgfSwKICAgICAgLy8gICBMb2FkZXJGaWxlKGUpewogICAgICAvLyAgICAgICBsZXQgZmlsZT1lLnRhcmdldC5maWxlc1swXTsKICAgICAgLy8gICAgICAgdGhpcy5maWxlTmFtZT1maWxlLm5hbWU7CiAgICAgIC8vICAgICAgIHRoaXMuZmlsZXJlYWRlcj1uZXcgRmlsZVJlYWRlcigpOwogICAgICAvLyAgICAgICB0aGlzLmZpbGVyZWFkZXIucmVhZEFzQXJyYXlCdWZmZXIoZmlsZSk7CiAgICAgIC8vICAgICAgIHRoaXMuZmlsZXJlYWRlci5vbmxvYWQ9KGV2ZW50KT0+ewogICAgICAvLyAgICAgICB0aGlzLmF1ZGlvQ3R4LmRlY29kZUF1ZGlvRGF0YShldmVudC50YXJnZXQucmVzdWx0LChidWZmZXIpPT57CiAgICAgIC8vICAgICAgICAgICB0aGlzLm11c2ljQnVmZmVyPWJ1ZmZlcjsKICAgICAgLy8gICAgICAgICAgIC8v5YWI5a2Y6Z+z6aKR5pWw5o2uCiAgICAgIC8vICAgICAgICAgICB0aGlzLmlzTG9hZGluZz10cnVlOwogICAgICAvLyAgICAgICAgICAgdGhpcy5maWxlRHVyYXRpb249YnVmZmVyLmR1cmF0aW9uOwogICAgICAvLwogICAgICAvLyAgICAgICAgICAgdGhpcy5BbmFseXNlckRhdGEoKTsKICAgICAgLy8gICAgICAgfSkKICAgICAgLy8gICAgICAgLy/pn7PpopHmlbDmja4KICAgICAgLy8gICAgICAgfQogICAgICAvLyAgIH0sCiAgICAgICAgQW5hbHlzZXJEYXRhKCl7CiAgICAgICAgICAgIHRoaXMuYW5hbHlzZXIuZmZ0U2l6ZT01MTI7CiAgICAgICAgICAgIC8vNTEy5piv5pyA5ZCI6YCC55qE5YC8CiAgICAgICAgICAgIC8vIGxldCBidWZmZXJMZW5ndGg9YW5hbHlzZXIuZnJlcXVlbmN5QmluQ291bnQ7CiAgICAgICAgICAgIC8vIGxldCBkYXRhQXJyYXk9bmV3IFVpbnQ4QXJyYXkoYnVmZmVyTGVuZ3RoKTsKICAgICAgICAgICAgLy8gdGhpcy5hbmFseXNlci5nZXRCeXRlRnJlcXVlbmN5RGF0YShkYXRhQXJyYXkpOwogICAgICAgICAgICB0aGlzLiRidXMuJGVtaXQoJ0JpbmRpbmdBbmFseXNlcicsdGhpcy5hbmFseXNlcik7CiAgICAgICAgfQoKICAgIH0sCn0K"},{"version":3,"sources":["Player.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"Player.vue","sourceRoot":"src/views/scene/Player","sourcesContent":["<template>\n  <div class=\"AudioViewPlayer\" >\n      <div class=\"Control\">\n\n        <div class=\"Buttons\">\n          <audio></audio>\n          <span class=\"Play-Pause\" @click=\"play_pause\">\n            <svg-icon v-if=\"isPlaying\" icon-class=\"pause\" className=\"player\"></svg-icon>\n            <svg-icon v-else icon-class=\"play\" className=\"player\"></svg-icon>\n          </span>\n\n\n          <span class=\"File\" @click=\"loadfile\">\n            <svg-icon  icon-class=\"file\"  className=\"file\"></svg-icon>\n          </span>\n          <div class=\"Text\" style=\"width: 85%;text-align: center\">\n            <i v-if=\"fileName==''\">暂无文件加载</i>\n            <i v-else>{{ fileName }}</i>\n            <el-slider  v-model=\"playedPercentage\" :show-tooltip=\"false\" style=\"width:100%\" @change=\"changeprocess\"></el-slider>\n          </div>\n\n\n\n        </div>\n\n\n\n\n\n        <!--          <button @click=\"play\" class=\"Play\">播放</button>-->\n        <!--          <button @click=\"pause\" class=\"Pause\">暂停</button>-->\n        <!--          <input id=\"MP3File\" @change=\"LoaderFile\" type=\"file\" class=\"Select\"/>-->\n        <!--&lt;!&ndash;          <el-progress :percentage=\"playedPercentage\" :show-text=false></el-progress>&ndash;&gt;-->\n        <!--          <el-slider v-model=\"playedPercentage\" :show-tooltip=\"false\"></el-slider>-->\n      </div>\n\n\n\n  </div>\n</template>\n\n<script>\n\nexport default {\n    name:'AudioPlayer',\n    data() {\n        return {\n            musicBuffer:null,\n            //缓冲数据\n            isLoading:false,\n            //判断是否加载音乐\n            isPlaying:false,\n            //是否正在播放音乐\n            fileName:'',\n            //音乐名\n            playedTime:0,\n            //播放时间\n            audioCtx:null,\n            //音频上下文\n            audioBufferSourceNode:null,\n            //音频节点\n            fileReader:null,\n            //文件读取\n            analyser:null,\n            //分析器\n            fileDuration:0,\n            //音乐时长\n            timer:0,\n\n          //playedPercentage: 0\n            //playedPercentage:0\n          //playedPercentage:0\n\n        }\n    },\n    computed:{\n        playedPercentage:{\n            get(){\n                if(this.fileDuration>0){\n                    return this.playedTime*100/this.fileDuration;\n\n                }else{\n                    return 0;\n                }\n            },\n            set(percentage){\n\n                this.playedTime=percentage*this.fileDuration/100;\n\n            }\n        }\n    },\n   watch:{\n        isPlaying:{\n            handler(){\n                this.$bus.$emit('PlayState',this.isPlaying);\n            },\n            deep:true,\n            immediate:true\n        }\n    },\n    mounted() {\n        this.initContext();\n\n\n    },\n    methods: {\n      changeprocess(){\n        if(!this.isLoading){\n          this.$message.error(\"未加载媒体\");\n          this.playedTime=0;\n        }else{\n          if(this.isPlaying){\n            //正在播放时改变\n            this.play_pause();\n            this.play_pause();\n          }\n          else{\n            //暂停时改变\n            this.play_pause();\n          }\n        }\n      },\n\n      loadfile(){\n        let that=this;\n        let file;\n        let input=document.createElement('input');\n        input.type=\"file\";\n        input.addEventListener(\"change\",function(){\n             file=input.files[0];\n          that.fileName=file.name;\n          that.filereader=new FileReader();\n          that.filereader.readAsArrayBuffer(file);\n          that.filereader.onload=(event)=>{\n            that.audioCtx.decodeAudioData(event.target.result,(buffer)=>{\n              that.musicBuffer=buffer;\n              //先存音频数据\n              that.isLoading=true;\n              that.fileDuration=buffer.duration;\n\n              that.AnalyserData();\n            })\n            //音频数据\n          }\n        });\n        input.click();\n      },\n      play_pause(){\n        const player=document.querySelector('.Play-Pause');\n        //console.log(player);\n        if(!this.isLoading){\n          this.$message.error(\"未加载媒体\");\n\n        }else{\n          if(!this.isPlaying){\n            //只有每次播放时才建立，因为start只能一次\n            this.audioBufferSourceNode=this.audioCtx.createBufferSource();\n            //一开始进行初始化\n            this.audioBufferSourceNode.buffer=this.musicBuffer;\n            //播放时才去加载数据\n            this.audioBufferSourceNode.connect(this.audioCtx.destination);\n            //连接\n            this.audioBufferSourceNode.connect(this.analyser);\n            //连接分析器\n            this.audioBufferSourceNode.start(0,this.playedTime);\n            //播放\n            player.classList.add('active');\n\n            this.isPlaying=true;\n            this.timer=setInterval(()=>{\n              if(this.playedTime<this.fileDuration){\n                this.playedTime+=0.1;\n              }\n              else{\n                this.playedTime=0;\n                this.audioBufferSourceNode.stop();\n                this.audioBufferSourceNode.disconnect();\n                this.isPlaying=false;\n                player.classList.remove('active');\n                clearInterval(this.timer);\n\n              }\n            },100);\n            //实时更新进度条，每100毫秒即0.1秒更新一次，\n          }\n          else{\n            this.audioBufferSourceNode.stop();\n            this.audioBufferSourceNode.disconnect();\n            this.isPlaying=false;\n            player.classList.remove('active');\n            clearInterval(this.timer);\n          }\n\n        }\n\n      },\n        initContext(){\n            const AudioContext = window.AudioContext || window.webkitAudioContext;\n            this.audioCtx=new AudioContext();\n            //创建上下文\n\n            //创建缓冲节点\n           this.analyser=this.audioCtx.createAnalyser();\n        },\n      // play(){\n      //       if(!this.isLoading){\n      //           alert('未加载媒体');\n      //       }else{\n      //           if(!this.isPlaying){\n      //              //只有每次播放时才建立，因为start只能一次\n      //             this.audioBufferSourceNode=this.audioCtx.createBufferSource();\n      //               //一开始进行初始化\n      //           this.audioBufferSourceNode.buffer=this.musicBuffer;\n      //           //播放时才去加载数据\n      //           this.audioBufferSourceNode.connect(this.audioCtx.destination);\n      //           //连接\n      //           this.audioBufferSourceNode.connect(this.analyser);\n      //           //连接分析器\n      //           this.audioBufferSourceNode.start(this.playedTime,this.playedTime);\n      //           //播放\n      //\n      //\n      //           this.isPlaying=true;\n      //           this.timer=setInterval(()=>{\n      //               if(this.playedTime<this.fileDuration){\n      //                   this.playedTime+=0.1;\n      //               }\n      //               else{\n      //                   this.playedTime=0;\n      //                   //this.isPlaying=false;\n      //                   clearInterval(this.timer);\n      //\n      //               }\n      //           },100);\n      //           //实时更新进度条，每100毫秒即0.1秒更新一次，\n      //           }\n      //\n      //       }\n      //\n      //\n      //   },\n      //   pause(){\n      //       if(!this.isLoading){\n      //           alert('未加载媒体');\n      //       }\n      //       else{\n      //           if(this.isPlaying){\n      //           this.audioBufferSourceNode.stop();\n      //           this.audioBufferSourceNode.disconnect();\n      //            this.isPlaying=false;\n      //             this.player.classList.remove(' active');\n      //           clearInterval(this.timer);\n      //           }\n      //\n      //\n      //       }\n      //\n      //   },\n      //   LoaderFile(e){\n      //       let file=e.target.files[0];\n      //       this.fileName=file.name;\n      //       this.filereader=new FileReader();\n      //       this.filereader.readAsArrayBuffer(file);\n      //       this.filereader.onload=(event)=>{\n      //       this.audioCtx.decodeAudioData(event.target.result,(buffer)=>{\n      //           this.musicBuffer=buffer;\n      //           //先存音频数据\n      //           this.isLoading=true;\n      //           this.fileDuration=buffer.duration;\n      //\n      //           this.AnalyserData();\n      //       })\n      //       //音频数据\n      //       }\n      //   },\n        AnalyserData(){\n            this.analyser.fftSize=512;\n            //512是最合适的值\n            // let bufferLength=analyser.frequencyBinCount;\n            // let dataArray=new Uint8Array(bufferLength);\n            // this.analyser.getByteFrequencyData(dataArray);\n            this.$bus.$emit('BindingAnalyser',this.analyser);\n        }\n\n    },\n}\n</script>\n\n<style lang='scss' >\n.Control{\n\n  position: relative;\n  width: 100%;\n  height: 85px;\n  background: #fbfbfb;\n  border: 2px solid #fff;\n  padding: 20px 30px;\n  box-shadow: -10px -10px 15px #fff,\n              10px 10px 15px rgba(0, 0, 0, 0.1),\n              inset -5px -5px 15px #fff,\n              inset 5px 5px 15px rgba(0,0,0,0.1);\n  .Buttons{\n    position: relative;\n    display: flex;\n    justify-content: space-around;\n    align-items: center;\n    width:100%;\n    .Play-Pause{\n      .player{\n        font-size: 3em;\n      }\n    }\n    .File{\n      .file{\n        font-size: 1.5em;\n      }\n    }\n\n  }\n  .Buttons span{\n    position: relative;\n    width: 50px;\n    height: 50px;\n    border-radius: 50%;\n    background: #ffffff;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    //color: #777777;\n    cursor: pointer;\n    box-shadow: inset 0 -5px 5px rgba(0,0,0,0.1),\n                0 5px 10px rgba(0,0,0,0.1),\n                0 10px 15px rgba(0,0,0,0.1);\n  }\n  .Buttons span.active{\n    box-shadow: inset 0 -7px 5px rgba(0,0,0,0.025),\n                inset 0 5px 10px rgba(0,0,0,0.15);\n  }\n  .Buttons span:active{\n    color: #995f99;\n    box-shadow: inset 0 -7px 5px rgba(0,0,0,0.025),\n    inset 0 5px 10px rgba(0,0,0,0.15);\n  }\n\n\n\n\n}\n</style>\n"]}]}